<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sports Analyzer Pro - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1e88e5;
            --primary-dark: #0d47a1;
            --secondary: #00c853;
            --accent: #ff6b6b;
            --warning: #ff9800;
            --success: #4caf50;
            --light-bg: #f5f7fa;
            --dark-bg: #1a237e;
            --card-bg: #ffffff;
            --text: #263238;
            --text-light: #546e7a;
            --border: #e0e0e0;
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
            --radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            min-height: 90vh;
        }

        .header {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
        }

        .header i {
            font-size: 28px;
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 50%;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 600;
        }

        .header .subtitle {
            opacity: 0.9;
            font-size: 14px;
        }

        .user-info {
            position: absolute;
            right: 20px;
            top: 20px;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .user-badge {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .main-content {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            min-height: 70vh;
        }

        /* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã */
        .welcome-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: var(--radius);
            text-align: center;
            margin-bottom: 20px;
        }

        .welcome-message {
            background: linear-gradient(to right, #e8f5e9, #c8e6c9);
            padding: 25px;
            border-radius: var(--radius);
            border-left: 5px solid var(--secondary);
        }

        .alert {
            padding: 15px;
            border-radius: var(--radius);
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-warning {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            color: #856404;
        }

        .alert-success {
            background: #d4edda;
            border-left: 5px solid #28a745;
            color: #155724;
        }

        .sport-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .sport-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 2px solid transparent;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .sport-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            border-color: var(--primary);
        }

        .sport-card i {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .sport-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--accent);
            color: white;
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .menu-btn {
            background: white;
            border: none;
            padding: 25px;
            border-radius: var(--radius);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 8px rgba(0,0,0,0.08);
            position: relative;
        }

        .menu-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
        }

        .menu-btn:hover i {
            color: white;
        }

        .menu-btn i {
            font-size: 32px;
            color: var(--primary);
        }

        /* –¢–µ—Å—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ */
        .test-container {
            background: white;
            padding: 25px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin: 20px 0;
        }

        .test-step {
            background: #f8f9fa;
            padding: 25px;
            border-radius: var(--radius);
            margin: 15px 0;
            border-left: 4px solid var(--primary);
        }

        .input-group {
            margin: 20px 0;
        }

        .input-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text);
        }

        .input-field {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-field:focus {
            border-color: var(--primary);
            outline: none;
        }

        .range-container {
            margin: 30px 0;
        }

        .range-slider {
            width: 100%;
            height: 10px;
            -webkit-appearance: none;
            background: linear-gradient(to right, #ff6b6b, #ffd166, #06d6a0);
            border-radius: 5px;
            outline: none;
            margin: 20px 0;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .range-value {
            font-size: 36px;
            font-weight: bold;
            text-align: center;
            color: var(--primary);
            margin: 10px 0;
        }

        .range-labels {
            display: flex;
            justify-content: space-between;
            color: var(--text-light);
            font-size: 14px;
            margin-top: 5px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .option-btn {
            padding: 20px;
            background: white;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .option-btn:hover {
            border-color: var(--primary);
            background: #f0f7ff;
        }

        .option-btn.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* –ò–≥—Ä–∞ –≤ —Ä–µ–∞–∫—Ü–∏–∏ */
        .reaction-game {
            background: #1a237e;
            color: white;
            padding: 30px;
            border-radius: var(--radius);
            text-align: center;
            margin: 20px 0;
        }

        .reaction-target {
            width: 100px;
            height: 100px;
            background: #ff6b6b;
            border-radius: 50%;
            margin: 30px auto;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            transition: transform 0.2s;
        }

        .reaction-target:hover {
            transform: scale(1.1);
        }

        .reaction-timer {
            font-size: 48px;
            font-weight: bold;
            margin: 20px 0;
        }

        .reaction-results {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: var(--radius);
            margin: 20px 0;
        }

        /* –ú–∏–Ω–∏-–∏–≥—Ä—ã */
        .mini-game {
            background: white;
            padding: 25px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin: 20px 0;
            text-align: center;
        }

        .checkers-board {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 0;
            width: 320px;
            height: 320px;
            margin: 20px auto;
            border: 3px solid #333;
        }

        .checkers-cell {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .checkers-cell.light {
            background: #f0d9b5;
        }

        .checkers-cell.dark {
            background: #b58863;
        }

        .checkers-piece {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
        }

        .checkers-piece.black {
            background: #000;
            border: 2px solid #333;
        }

        .checkers-piece.white {
            background: #fff;
            border: 2px solid #ccc;
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ */
        .results-container {
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin: 20px 0;
        }

        .analysis-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: var(--radius);
            margin: 15px 0;
            border-left: 4px solid var(--primary);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: var(--radius);
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border-top: 4px solid var(--primary);
        }

        .progress-container {
            margin: 15px 0;
        }

        .progress-bar {
            height: 10px;
            background: var(--light-bg);
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--secondary), var(--primary));
            border-radius: 5px;
            transition: width 1s ease;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .navigation {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: var(--light-bg);
            color: var(--text);
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .btn-accent {
            background: var(--accent);
            color: white;
        }

        .btn-accent:hover {
            background: #ff4757;
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-warning:hover {
            background: #f57c00;
        }

        /* –¢–∞–±–ª–∏—Ü—ã */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .results-table th, .results-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .results-table th {
            background: #f5f5f5;
            font-weight: 600;
            color: var(--primary-dark);
        }

        .results-table tr:hover {
            background: #f9f9f9;
        }

        /* –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è */
        .visualization {
            background: white;
            padding: 25px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin: 20px 0;
            text-align: center;
        }

        .radar-chart {
            width: 100%;
            max-width: 500px;
            height: 300px;
            margin: 0 auto;
        }

        /* –£—Ç–∏–ª–∏—Ç—ã */
        .hidden {
            display: none !important;
        }

        .page {
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: var(--text-light);
            font-size: 14px;
            border-top: 1px solid var(--border);
            margin-top: 20px;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .container {
                border-radius: 0;
                min-height: 100vh;
            }
            
            body {
                padding: 0;
            }
            
            .sport-cards, .menu-grid, .options-grid {
                grid-template-columns: 1fr;
            }
            
            .user-info {
                position: static;
                margin-top: 15px;
                justify-content: center;
            }
            
            .checkers-board {
                width: 240px;
                height: 240px;
            }
            
            .checkers-cell {
                width: 30px;
                height: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="penguin-icon">
                <i class="fas fa-running"></i>
            </div>
            <div>
                <h1>Sports Analyzer Pro</h1>
                <div class="subtitle">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</div>
            </div>
            
            <div class="user-info">
                <div class="user-badge">
                    <i class="fas fa-user"></i>
                    <span id="user-name">–ê–Ω–∞–ª–∏—Ç–∏–∫</span>
                </div>
                <div class="user-badge">
                    <i class="fas fa-chart-line"></i>
                    <span id="user-score">–ù–µ –æ—Ü–µ–Ω–µ–Ω</span>
                </div>
            </div>
        </div>

        <div class="main-content">
            <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
            <div id="page-welcome" class="page">
                <div class="welcome-banner">
                    <h1><i class="fas fa-bullseye"></i> –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Sports Analyzer Pro!</h1>
                    <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–∞—à–∏—Ö —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã</p>
                </div>

                <div id="initial-test-alert" class="alert alert-warning">
                    <i class="fas fa-exclamation-circle"></i>
                    <div>
                        <strong>–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–π—Ç–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç</strong>
                        <p>–≠—Ç–æ –∑–∞–π–º–µ—Ç 10-15 –º–∏–Ω—É—Ç, –Ω–æ –¥–∞—Å—Ç —Ç–æ—á–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</p>
                    </div>
                </div>

                <div class="welcome-message">
                    <h2><i class="fas fa-flask"></i> –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h2>
                    <p>–ù–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑:</p>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <i class="fas fa-stopwatch" style="font-size: 32px; color: var(--primary);"></i>
                            <h3>–§–∏–∑–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã</h3>
                            <p>–ó–∞–º–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–∏, —Ä–µ–∞–∫—Ü–∏–∏, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-brain" style="font-size: 32px; color: var(--primary);"></i>
                            <h3>–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã</h3>
                            <p>–°—Ç—Ä–∞—Ç–µ–≥–∏—è, –ª–æ–≥–∏–∫–∞, –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-gamepad" style="font-size: 32px; color: var(--primary);"></i>
                            <h3>–ú–∏–Ω–∏-–∏–≥—Ä—ã</h3>
                            <p>–û—Ü–µ–Ω–∫–∞ —Ä–µ–∞–∫—Ü–∏–∏ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –≤ –∏–≥—Ä–æ–≤–æ–π —Ñ–æ—Ä–º–µ</p>
                        </div>
                    </div>
                </div>

                <div class="menu-grid">
                    <div class="menu-btn" onclick="startComprehensiveTest()">
                        <i class="fas fa-play-circle"></i>
                        <span>–ù–∞—á–∞—Ç—å –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑</span>
                        <div class="sport-badge">üöÄ</div>
                    </div>
                    
                    <div class="menu-btn" onclick="showMyResults()">
                        <i class="fas fa-chart-bar"></i>
                        <span>–ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</span>
                        <div class="sport-badge">üìä</div>
                    </div>
                    
                    <div class="menu-btn" onclick="showSportsSelection()">
                        <i class="fas fa-futbol"></i>
                        <span>–ê–Ω–∞–ª–∏–∑ –ø–æ –≤–∏–¥—É —Å–ø–æ—Ä—Ç–∞</span>
                        <div class="sport-badge">üéØ</div>
                    </div>
                    
                    <div class="menu-btn" onclick="showMiniGames()">
                        <i class="fas fa-gamepad"></i>
                        <span>–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –∏–≥—Ä—ã</span>
                        <div class="sport-badge">üéÆ</div>
                    </div>
                </div>
            </div>

            <!-- –í—ã–±–æ—Ä —Å–ø–æ—Ä—Ç–∞ -->
            <div id="page-sports" class="page hidden">
                <div class="welcome-message">
                    <h2><i class="fas fa-futbol"></i> –í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</h2>
                    <p>–ú—ã –ø–æ–¥–±–µ—Ä–µ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –∏ –¥–∞–¥–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é</p>
                </div>

                <div class="sport-cards">
                    <div class="sport-card" onclick="selectSport('football')">
                        <i class="fas fa-futbol"></i>
                        <div class="sport-badge">‚öΩ</div>
                        <h3>–§—É—Ç–±–æ–ª</h3>
                        <p>8 –ø–æ–∑–∏—Ü–∏–π, –∞–Ω–∞–ª–∏–∑ —Å–∫–æ—Ä–æ—Å—Ç–∏, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏, —Ç–µ—Ö–Ω–∏–∫–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="selectSport('basketball')">
                        <i class="fas fa-basketball-ball"></i>
                        <div class="sport-badge">üèÄ</div>
                        <h3>–ë–∞—Å–∫–µ—Ç–±–æ–ª</h3>
                        <p>5 –ø–æ–∑–∏—Ü–∏–π, –∞–Ω–∞–ª–∏–∑ –ø—Ä—ã–≥—É—á–µ—Å—Ç–∏, —Ç–æ—á–Ω–æ—Å—Ç–∏, —Å–∫–æ—Ä–æ—Å—Ç–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="selectSport('volleyball')">
                        <i class="fas fa-volleyball-ball"></i>
                        <div class="sport-badge">üèê</div>
                        <h3>–í–æ–ª–µ–π–±–æ–ª</h3>
                        <p>6 –ø–æ–∑–∏—Ü–∏–π, –∞–Ω–∞–ª–∏–∑ —Ä–µ–∞–∫—Ü–∏–∏, –ø—Ä—ã–≥—É—á–µ—Å—Ç–∏, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="selectSport('tennis')">
                        <i class="fas fa-table-tennis"></i>
                        <div class="sport-badge">üéæ</div>
                        <h3>–¢–µ–Ω–Ω–∏—Å</h3>
                        <p>4 —Å—Ç–∏–ª—è –∏–≥—Ä—ã, –∞–Ω–∞–ª–∏–∑ —Ä–µ–∞–∫—Ü–∏–∏, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏, —Ç–∞–∫—Ç–∏–∫–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="selectSport('hockey')">
                        <i class="fas fa-hockey-puck"></i>
                        <div class="sport-badge">üèí</div>
                        <h3>–•–æ–∫–∫–µ–π</h3>
                        <p>4 –∞–º–ø–ª—É–∞, –∞–Ω–∞–ª–∏–∑ —Å–∫–æ—Ä–æ—Å—Ç–∏, —Å–∏–ª—ã, —Ä–µ–∞–∫—Ü–∏–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="selectSport('swimming')">
                        <i class="fas fa-swimmer"></i>
                        <div class="sport-badge">üèä</div>
                        <h3>–ü–ª–∞–≤–∞–Ω–∏–µ</h3>
                        <p>4 —Å—Ç–∏–ª—è, –∞–Ω–∞–ª–∏–∑ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏, —Ç–µ—Ö–Ω–∏–∫–∏, –¥—ã—Ö–∞–Ω–∏—è</p>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="backToWelcome()">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>

            <!-- –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç -->
            <div id="page-comprehensive-test" class="page hidden">
                <div class="test-container">
                    <h2 id="test-title"><i class="fas fa-clipboard-list"></i> –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç</h2>
                    <div id="test-progress" style="margin: 10px 0; color: var(--text-light);"></div>
                    
                    <!-- –®–∞–≥ 1: –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
                    <div id="test-step-1" class="test-step">
                        <h3><i class="fas fa-user"></i> –®–∞–≥ 1: –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                        <div class="input-group">
                            <label class="input-label">–í–∞—à–µ –∏–º—è:</label>
                            <input type="text" class="input-field" id="user-name-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
                        </div>
                        <div class="input-group">
                            <label class="input-label">–í–æ–∑—Ä–∞—Å—Ç:</label>
                            <input type="number" class="input-field" id="user-age" min="10" max="70" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–∑—Ä–∞—Å—Ç">
                        </div>
                        <div class="input-group">
                            <label class="input-label">–†–æ—Å—Ç (—Å–º):</label>
                            <input type="number" class="input-field" id="user-height" min="100" max="220" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 180">
                        </div>
                        <div class="input-group">
                            <label class="input-label">–í–µ—Å (–∫–≥):</label>
                            <input type="number" class="input-field" id="user-weight" min="30" max="150" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 75">
                        </div>
                    </div>

                    <!-- –®–∞–≥ 2: –§–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ -->
                    <div id="test-step-2" class="test-step hidden">
                        <h3><i class="fas fa-running"></i> –®–∞–≥ 2: –§–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏</h3>
                        <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –±—É–¥—å—Ç–µ —á–µ—Å—Ç–Ω—ã –≤ –æ—Ç–≤–µ—Ç–∞—Ö –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞</p>
                        
                        <div class="input-group">
                            <label class="input-label">–í—Ä–µ–º—è –Ω–∞ 100 –º–µ—Ç—Ä–æ–≤ (—Å–µ–∫—É–Ω–¥—ã):</label>
                            <input type="number" class="input-field" id="speed-100m" min="10" max="30" step="0.1" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 14.5">
                            <small style="color: var(--text-light);">–£–∫–∞–∂–∏—Ç–µ –≤–∞—à –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</small>
                        </div>

                        <div class="input-group">
                            <label class="input-label">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∂–∏–º–∞–Ω–∏–π:</label>
                            <input type="number" class="input-field" id="pushups-max" min="0" max="100" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 25">
                        </div>

                        <div class="input-group">
                            <label class="input-label">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–π:</label>
                            <input type="number" class="input-field" id="squats-max" min="0" max="200" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 50">
                        </div>

                        <div class="input-group">
                            <label class="input-label">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø–ª–∞–Ω–∫–∏ (—Å–µ–∫—É–Ω–¥—ã):</label>
                            <input type="number" class="input-field" id="plank-time" min="0" max="600" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 120">
                        </div>
                    </div>

                    <!-- –®–∞–≥ 3: –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è -->
                    <div id="test-step-3" class="test-step hidden">
                        <h3><i class="fas fa-heart"></i> –®–∞–≥ 3: –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</h3>
                        <p>–ö–∞–∫–∏–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞ –≤–∞–º –Ω—Ä–∞–≤—è—Ç—Å—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?</p>
                        
                        <div class="options-grid">
                            <div class="option-btn" onclick="toggleOption(this, 'football')">‚öΩ –§—É—Ç–±–æ–ª</div>
                            <div class="option-btn" onclick="toggleOption(this, 'basketball')">üèÄ –ë–∞—Å–∫–µ—Ç–±–æ–ª</div>
                            <div class="option-btn" onclick="toggleOption(this, 'volleyball')">üèê –í–æ–ª–µ–π–±–æ–ª</div>
                            <div class="option-btn" onclick="toggleOption(this, 'tennis')">üéæ –¢–µ–Ω–Ω–∏—Å</div>
                            <div class="option-btn" onclick="toggleOption(this, 'hockey')">üèí –•–æ–∫–∫–µ–π</div>
                            <div class="option-btn" onclick="toggleOption(this, 'swimming')">üèä –ü–ª–∞–≤–∞–Ω–∏–µ</div>
                            <div class="option-btn" onclick="toggleOption(this, 'athletics')">üèÉ –õ–µ–≥–∫–∞—è –∞—Ç–ª–µ—Ç–∏–∫–∞</div>
                            <div class="option-btn" onclick="toggleOption(this, 'martial')">ü•ã –ï–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤–∞</div>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 4: –¢–µ—Å—Ç –Ω–∞ —Ä–µ–∞–∫—Ü–∏—é -->
                    <div id="test-step-4" class="test-step hidden">
                        <h3><i class="fas fa-bolt"></i> –®–∞–≥ 4: –¢–µ—Å—Ç —Ä–µ–∞–∫—Ü–∏–∏</h3>
                        <p>–ö–ª–∏–∫–∞–π—Ç–µ –Ω–∞ –∫—Ä–∞—Å–Ω—ã–π –∫—Ä—É–≥ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω –ø–æ—è–≤–∏—Ç—Å—è</p>
                        
                        <div class="reaction-game">
                            <div id="reaction-start" class="btn btn-primary" onclick="startReactionTest()">
                                <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç —Ä–µ–∞–∫—Ü–∏–∏
                            </div>
                            
                            <div id="reaction-target" class="reaction-target hidden" onclick="recordReactionTime()">
                                –ñ–ú–ò!
                            </div>
                            
                            <div id="reaction-timer" class="reaction-timer hidden">0.000</div>
                            
                            <div id="reaction-results" class="reaction-results hidden">
                                <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h4>
                                <div id="reaction-times"></div>
                                <div>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: <span id="avg-reaction">0</span> –º—Å</div>
                            </div>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 5: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ —à–∞—à–∫–∏) -->
                    <div id="test-step-5" class="test-step hidden">
                        <h3><i class="fas fa-chess-board"></i> –®–∞–≥ 5: –¢–µ—Å—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏</h3>
                        <p>–°–¥–µ–ª–∞–π—Ç–µ 5 —Ö–æ–¥–æ–≤ –≤ —É–ø—Ä–æ—â–µ–Ω–Ω—ã—Ö —à–∞—à–∫–∞—Ö</p>
                        
                        <div class="mini-game">
                            <div class="checkers-board" id="checkers-board">
                                <!-- –î–æ—Å–∫–∞ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ JS -->
                            </div>
                            <div id="checkers-info" style="margin: 15px 0;">
                                <div>–•–æ–¥: <span id="checkers-turn">–ë–µ–ª—ã—Ö</span></div>
                                <div>–°–¥–µ–ª–∞–Ω–æ —Ö–æ–¥–æ–≤: <span id="moves-count">0</span>/5</div>
                            </div>
                            <button class="btn btn-secondary" onclick="resetCheckers()">
                                <i class="fas fa-redo"></i> –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                            </button>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 6: –¢–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ -->
                    <div id="test-step-6" class="test-step hidden">
                        <h3><i class="fas fa-chess"></i> –®–∞–≥ 6: –¢–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ</h3>
                        <p>–†–µ—à–∏—Ç–µ 3 —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏</p>
                        
                        <div class="options-grid">
                            <div class="option-btn" onclick="selectTacticAnswer(1)">
                                –§—É—Ç–±–æ–ª: –í–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –≤–µ–¥–µ—Ç 1:0 –∑–∞ 5 –º–∏–Ω—É—Ç –¥–æ –∫–æ–Ω—Ü–∞. –í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è?
                            </div>
                            <div class="option-btn" onclick="selectTacticAnswer(2)">
                                –ë–∞—Å–∫–µ—Ç–±–æ–ª: –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç–µ 2 –æ—á–∫–∞, –æ—Å—Ç–∞–ª–æ—Å—å 10 —Å–µ–∫—É–Ω–¥. –£ –≤–∞—Å –º—è—á.
                            </div>
                            <div class="option-btn" onclick="selectTacticAnswer(3)">
                                –í–æ–ª–µ–π–±–æ–ª: –°–æ–ø–µ—Ä–Ω–∏–∫ —Å–∏–ª—å–Ω–µ–µ –≤ –∞—Ç–∞–∫–µ, –Ω–æ —Å–ª–∞–±–µ–µ –≤ –∑–∞—â–∏—Ç–µ. –í–∞—à–∞ —Ç–∞–∫—Ç–∏–∫–∞?
                            </div>
                        </div>
                        
                        <div id="tactic-feedback" class="hidden" style="margin-top: 20px; padding: 15px; background: #e8f5e9; border-radius: var(--radius);">
                            <h4><i class="fas fa-lightbulb"></i> –ê–Ω–∞–ª–∏–∑ –≤–∞—à–µ–≥–æ –≤—ã–±–æ—Ä–∞:</h4>
                            <div id="tactic-analysis"></div>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 7: –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
                    <div id="test-step-7" class="test-step hidden">
                        <h3><i class="fas fa-brain"></i> –®–∞–≥ 7: –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç</h3>
                        <p>–û—Ü–µ–Ω–∏—Ç–µ —Å–µ–±—è –ø–æ —à–∫–∞–ª–µ –æ—Ç 1 –¥–æ 10</p>
                        
                        <div class="range-container">
                            <div class="input-label">–õ–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞</div>
                            <input type="range" min="1" max="10" value="5" class="range-slider" id="leadership-slider" oninput="updateRangeValue('leadership')">
                            <div class="range-value" id="leadership-value">5</div>
                            <div class="range-labels">
                                <span>–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å</span>
                                <span>–õ–∏–¥–µ—Ä</span>
                            </div>
                        </div>

                        <div class="range-container">
                            <div class="input-label">–°—Ç—Ä–µ—Å—Å–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å</div>
                            <input type="range" min="1" max="10" value="5" class="range-slider" id="stress-slider" oninput="updateRangeValue('stress')">
                            <div class="range-value" id="stress-value">5</div>
                            <div class="range-labels">
                                <span>–¢–µ—Ä—è—é—Å—å</span>
                                <span>–•–ª–∞–¥–Ω–æ–∫—Ä–æ–≤–µ–Ω</span>
                            </div>
                        </div>

                        <div class="range-container">
                            <div class="input-label">–ö–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å</div>
                            <input type="range" min="1" max="10" value="5" class="range-slider" id="teamwork-slider" oninput="updateRangeValue('teamwork')">
                            <div class="range-value" id="teamwork-value">5</div>
                            <div class="range-labels">
                                <span>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª–∏—Å—Ç</span>
                                <span>–ö–æ–º–∞–Ω–¥–Ω—ã–π –∏–≥—Ä–æ–∫</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevTestStep()" id="prev-btn">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                    <button class="btn btn-primary" onclick="nextTestStep()" id="next-btn">
                        <i class="fas fa-arrow-right"></i> –î–∞–ª–µ–µ
                    </button>
                </div>
            </div>

            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ -->
            <div id="page-results" class="page hidden">
                <div class="results-container">
                    <h2><i class="fas fa-trophy"></i> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞</h2>
                    
                    <div class="analysis-card">
                        <h3><i class="fas fa-user-circle"></i> –ü—Ä–æ—Ñ–∏–ª—å —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞</h3>
                        <div id="athlete-profile"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-chart-line"></i> –§–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏</h3>
                        <div id="physical-stats"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-chess"></i> –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç</h3>
                        <div id="psychological-profile"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-medal"></i> –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞</h3>
                        <div id="sport-recommendations"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-bullseye"></i> –ò–¥–µ–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏</h3>
                        <div id="position-recommendations"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-dumbbell"></i> –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é</h3>
                        <div id="development-plan"></div>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-primary" onclick="saveResults()">
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                    </button>
                    <button class="btn btn-warning" onclick="restartTest()">
                        <i class="fas fa-redo"></i> –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –∑–∞–Ω–æ–≤–æ
                    </button>
                    <button class="btn btn-secondary" onclick="backToWelcome()">
                        <i class="fas fa-home"></i> –ù–∞ –≥–ª–∞–≤–Ω—É—é
                    </button>
                </div>
            </div>

            <!-- –ú–∏–Ω–∏-–∏–≥—Ä—ã -->
            <div id="page-mini-games" class="page hidden">
                <div class="welcome-message">
                    <h2><i class="fas fa-gamepad"></i> –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –∏–≥—Ä—ã</h2>
                    <p>–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ —á–µ—Ä–µ–∑ –∏–≥—Ä—ã!</p>
                </div>

                <div class="sport-cards">
                    <div class="sport-card" onclick="startReactionGame()">
                        <i class="fas fa-bolt"></i>
                        <div class="sport-badge">‚ö°</div>
                        <h3>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Ä–µ–∞–∫—Ü–∏–∏</h3>
                        <p>–ö–ª–∏–∫–∞–π—Ç–µ –ø–æ –ø–æ—è–≤–ª—è—é—â–∏–º—Å—è —Ü–µ–ª—è–º</p>
                    </div>
                    
                    <div class="sport-card" onclick="startCoordinationGame()">
                        <i class="fas fa-crosshairs"></i>
                        <div class="sport-badge">üéØ</div>
                        <h3>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è</h3>
                        <p>–ü–æ–ø–∞–¥–∞–π—Ç–µ –≤ –¥–≤–∏–∂—É—â–∏–µ—Å—è —Ü–µ–ª–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="startMemoryGame()">
                        <i class="fas fa-brain"></i>
                        <div class="sport-badge">üß†</div>
                        <h3>–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å</h3>
                        <p>–ó–∞–ø–æ–º–∏–Ω–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="startStrategyGame()">
                        <i class="fas fa-chess"></i>
                        <div class="sport-badge">‚ôüÔ∏è</div>
                        <h3>–¢–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ</h3>
                        <p>–†–µ—à–∞–π—Ç–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏</p>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="backToWelcome()">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>

            <!-- –ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
            <div id="page-my-results" class="page hidden">
                <div class="results-container">
                    <h2><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –º–æ–∏—Ö —Ç–µ—Å—Ç–æ–≤</h2>
                    
                    <div id="results-history">
                        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="backToWelcome()">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                    <button class="btn btn-primary" onclick="startComprehensiveTest()">
                        <i class="fas fa-redo"></i> –ü—Ä–æ–π—Ç–∏ –Ω–æ–≤—ã–π —Ç–µ—Å—Ç
                    </button>
                </div>
            </div>

            <!-- –ê–Ω–∞–ª–∏–∑ –ø–æ –≤–∏–¥—É —Å–ø–æ—Ä—Ç–∞ -->
            <div id="page-sport-analysis" class="page hidden">
                <div class="results-container">
                    <h2 id="sport-analysis-title"><i class="fas fa-chart-pie"></i> –ê–Ω–∞–ª–∏–∑ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–ø–æ—Ä—Ç–∞</h2>
                    
                    <div id="sport-analysis-content">
                        <!-- –ê–Ω–∞–ª–∏–∑ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="backToWelcome()">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Sports Analyzer Pro ¬© 2024 | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</p>
            <p style="margin-top: 5px; font-size: 12px;">–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
        </div>
    </div>

    <script>
        // –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        const SPORTS_DATA = {
            football: {
                name: "‚öΩ –§—É—Ç–±–æ–ª",
                positions: [
                    { name: "–í—Ä–∞—Ç–∞—Ä—å", requirements: { reaction: 9, jump: 8, strength: 7, leadership: 8 } },
                    { name: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∑–∞—â–∏—Ç–Ω–∏–∫", requirements: { strength: 9, heading: 8, positioning: 8 } },
                    { name: "–ö—Ä–∞–π–Ω–∏–π –∑–∞—â–∏—Ç–Ω–∏–∫", requirements: { speed: 8, stamina: 8, crossing: 7 } },
                    { name: "–û–ø–æ—Ä–Ω—ã–π –ø–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫", requirements: { stamina: 9, tackling: 8, passing: 7 } },
                    { name: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫", requirements: { passing: 9, vision: 8, dribbling: 7 } },
                    { name: "–ö—Ä–∞–π–Ω–∏–π –Ω–∞–ø–∞–¥–∞—é—â–∏–π", requirements: { speed: 9, dribbling: 8, finishing: 7 } },
                    { name: "–ù–∞–ø–∞–¥–∞—é—â–∏–π", requirements: { finishing: 9, strength: 7, positioning: 8 } }
                ]
            },
            basketball: {
                name: "üèÄ –ë–∞—Å–∫–µ—Ç–±–æ–ª",
                positions: [
                    { name: "–†–∞–∑—ã–≥—Ä—ã–≤–∞—é—â–∏–π", requirements: { passing: 9, vision: 8, dribbling: 8 } },
                    { name: "–ê—Ç–∞–∫—É—é—â–∏–π –∑–∞—â–∏—Ç–Ω–∏–∫", requirements: { shooting: 9, speed: 8, dribbling: 7 } },
                    { name: "–õ–µ–≥–∫–∏–π —Ñ–æ—Ä–≤–∞—Ä–¥", requirements: { versatility: 8, shooting: 7, rebounding: 7 } },
                    { name: "–¢—è–∂–µ–ª—ã–π —Ñ–æ—Ä–≤–∞—Ä–¥", requirements: { strength: 8, rebounding: 9, insideScoring: 8 } },
                    { name: "–¶–µ–Ω—Ç—Ä–æ–≤–æ–π", requirements: { height: 9, rebounding: 9, blocking: 8 } }
                ]
            },
            volleyball: {
                name: "üèê –í–æ–ª–µ–π–±–æ–ª",
                positions: [
                    { name: "–õ–∏–±–µ—Ä–æ", requirements: { defense: 9, reaction: 8, passing: 8 } },
                    { name: "–°–≤—è–∑—É—é—â–∏–π", requirements: { passing: 9, vision: 8, leadership: 7 } },
                    { name: "–î–æ–∏–≥—Ä–æ–≤—â–∏–∫", requirements: { attack: 8, versatility: 8, jumping: 7 } },
                    { name: "–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π", requirements: { attack: 9, power: 8, jumping: 8 } },
                    { name: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫–∏—Ä—É—é—â–∏–π", requirements: { blocking: 9, height: 8, quickness: 7 } }
                ]
            }
        };

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        let currentState = {
            currentStep: 1,
            totalSteps: 7,
            testData: {
                personal: {},
                physical: {},
                preferences: [],
                reaction: [],
                coordination: 0,
                tactical: [],
                psychological: {}
            },
            currentGame: null,
            testHistory: []
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function initApp() {
            loadFromStorage();
            updateUserDisplay();
            
            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            const savedResults = localStorage.getItem('sportsAnalyzerResults');
            if (!savedResults) {
                document.getElementById('initial-test-alert').classList.remove('hidden');
            } else {
                document.getElementById('initial-test-alert').classList.add('hidden');
            }
        }

        function loadFromStorage() {
            const savedData = localStorage.getItem('sportsAnalyzerData');
            if (savedData) {
                const data = JSON.parse(savedData);
                currentState.testHistory = data.testHistory || [];
                
                if (data.lastTest) {
                    document.getElementById('user-score').textContent = 
                        `${data.lastTest.overallScore || 0}/100`;
                }
            }
        }

        function updateUserDisplay() {
            const name = localStorage.getItem('userName') || '–ê–Ω–∞–ª–∏—Ç–∏–∫';
            document.getElementById('user-name').textContent = name;
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            document.getElementById(pageId).classList.remove('hidden');
        }

        function backToWelcome() {
            showPage('page-welcome');
        }

        function showSportsSelection() {
            showPage('page-sports');
        }

        function showMiniGames() {
            showPage('page-mini-games');
        }

        function showMyResults() {
            showPage('page-my-results');
            displayTestHistory();
        }

        // –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç
        function startComprehensiveTest() {
            currentState.currentStep = 1;
            currentState.testData = {
                personal: {},
                physical: {},
                preferences: [],
                reaction: [],
                coordination: 0,
                tactical: [],
                psychological: {}
            };
            
            updateTestProgress();
            showPage('page-comprehensive-test');
            showTestStep(1);
        }

        function showTestStep(step) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —à–∞–≥–∏
            for (let i = 1; i <= 7; i++) {
                document.getElementById(`test-step-${i}`).classList.add('hidden');
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π —à–∞–≥
            document.getElementById(`test-step-${step}`).classList.remove('hidden');
            
            // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
            updateTestProgress();
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.getElementById('prev-btn').style.display = step > 1 ? 'flex' : 'none';
            
            if (step === 7) {
                document.getElementById('next-btn').innerHTML = '<i class="fas fa-check"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç';
                document.getElementById('next-btn').onclick = finishTest;
            } else {
                document.getElementById('next-btn').innerHTML = '<i class="fas fa-arrow-right"></i> –î–∞–ª–µ–µ';
                document.getElementById('next-btn').onclick = nextTestStep;
            }
        }

        function updateTestProgress() {
            const progress = `–®–∞–≥ ${currentState.currentStep} –∏–∑ ${currentState.totalSteps}`;
            document.getElementById('test-progress').textContent = progress;
        }

        function nextTestStep() {
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
            saveCurrentStepData();
            
            if (currentState.currentStep < currentState.totalSteps) {
                currentState.currentStep++;
                showTestStep(currentState.currentStep);
            }
        }

        function prevTestStep() {
            if (currentState.currentStep > 1) {
                currentState.currentStep--;
                showTestStep(currentState.currentStep);
            }
        }

        function saveCurrentStepData() {
            switch(currentState.currentStep) {
                case 1:
                    currentState.testData.personal = {
                        name: document.getElementById('user-name-input').value,
                        age: parseInt(document.getElementById('user-age').value) || 0,
                        height: parseInt(document.getElementById('user-height').value) || 0,
                        weight: parseInt(document.getElementById('user-weight').value) || 0
                    };
                    break;
                case 2:
                    currentState.testData.physical = {
                        speed100m: parseFloat(document.getElementById('speed-100m').value) || 0,
                        pushups: parseInt(document.getElementById('pushups-max').value) || 0,
                        squats: parseInt(document.getElementById('squats-max').value) || 0,
                        plank: parseInt(document.getElementById('plank-time').value) || 0
                    };
                    break;
                case 7:
                    currentState.testData.psychological = {
                        leadership: parseInt(document.getElementById('leadership-value').textContent),
                        stress: parseInt(document.getElementById('stress-value').textContent),
                        teamwork: parseInt(document.getElementById('teamwork-value').textContent)
                    };
                    break;
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∞
        function toggleOption(button, value) {
            button.classList.toggle('selected');
            
            if (button.classList.contains('selected')) {
                if (!currentState.testData.preferences.includes(value)) {
                    currentState.testData.preferences.push(value);
                }
            } else {
                const index = currentState.testData.preferences.indexOf(value);
                if (index > -1) {
                    currentState.testData.preferences.splice(index, 1);
                }
            }
        }

        function updateRangeValue(type) {
            const slider = document.getElementById(`${type}-slider`);
            const valueDisplay = document.getElementById(`${type}-value`);
            valueDisplay.textContent = slider.value;
        }

        // –¢–µ—Å—Ç —Ä–µ–∞–∫—Ü–∏–∏
        let reactionTest = {
            startTime: null,
            times: [],
            testCount: 0,
            maxTests: 5
        };

        function startReactionTest() {
            document.getElementById('reaction-start').classList.add('hidden');
            document.getElementById('reaction-results').classList.add('hidden');
            reactionTest.times = [];
            reactionTest.testCount = 0;
            
            startReactionRound();
        }

        function startReactionRound() {
            if (reactionTest.testCount >= reactionTest.maxTests) {
                finishReactionTest();
                return;
            }
            
            // –°–∫—Ä—ã—Ç—å —Ü–µ–ª—å
            document.getElementById('reaction-target').classList.add('hidden');
            document.getElementById('reaction-timer').classList.add('hidden');
            
            // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 1-3 —Å–µ–∫—É–Ω–¥—ã
            const delay = 1000 + Math.random() * 2000;
            
            setTimeout(() => {
                reactionTest.startTime = Date.now();
                document.getElementById('reaction-target').classList.remove('hidden');
            }, delay);
        }

        function recordReactionTime() {
            if (!reactionTest.startTime) return;
            
            const reactionTime = Date.now() - reactionTest.startTime;
            reactionTest.times.push(reactionTime);
            reactionTest.testCount++;
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º—è
            document.getElementById('reaction-timer').textContent = (reactionTime / 1000).toFixed(3);
            document.getElementById('reaction-timer').classList.remove('hidden');
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            updateReactionResults();
            
            // –°–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
            setTimeout(startReactionRound, 1000);
        }

        function updateReactionResults() {
            const resultsDiv = document.getElementById('reaction-times');
            resultsDiv.innerHTML = '';
            
            reactionTest.times.forEach((time, index) => {
                resultsDiv.innerHTML += `<div>–ü–æ–ø—ã—Ç–∫–∞ ${index + 1}: ${time} –º—Å</div>`;
            });
            
            if (reactionTest.times.length > 0) {
                const avg = reactionTest.times.reduce((a, b) => a + b, 0) / reactionTest.times.length;
                document.getElementById('avg-reaction').textContent = avg.toFixed(0);
            }
        }

        function finishReactionTest() {
            document.getElementById('reaction-target').classList.add('hidden');
            document.getElementById('reaction-timer').classList.add('hidden');
            document.getElementById('reaction-results').classList.remove('hidden');
            document.getElementById('reaction-start').classList.remove('hidden');
            
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è
            if (reactionTest.times.length > 0) {
                const avg = reactionTest.times.reduce((a, b) => a + b, 0) / reactionTest.times.length;
                currentState.testData.reaction = reactionTest.times;
            }
        }

        // –ò–≥—Ä–∞ –≤ —à–∞—à–∫–∏ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è)
        let checkersGame = {
            board: [],
            currentPlayer: 'white',
            moves: 0,
            selectedPiece: null
        };

        function initCheckers() {
            const board = document.getElementById('checkers-board');
            board.innerHTML = '';
            
            // –°–æ–∑–¥–∞–µ–º –¥–æ—Å–∫—É 8x8
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const cell = document.createElement('div');
                    cell.className = `checkers-cell ${(row + col) % 2 === 0 ? 'light' : 'dark'}`;
                    cell.dataset.row = row;
                    cell.dataset.col = col;
                    
                    // –†–∞—Å—Å—Ç–∞–≤–ª—è–µ–º —Ñ–∏–≥—É—Ä—ã –Ω–∞ —á–µ—Ä–Ω—ã—Ö –∫–ª–µ—Ç–∫–∞—Ö –ø–µ—Ä–≤—ã—Ö 3 —Ä—è–¥–æ–≤
                    if ((row + col) % 2 === 1) {
                        if (row < 3) {
                            const piece = document.createElement('div');
                            piece.className = 'checkers-piece black';
                            piece.onclick = () => selectPiece(row, col, 'black');
                            cell.appendChild(piece);
                        } else if (row > 4) {
                            const piece = document.createElement('div');
                            piece.className = 'checkers-piece white';
                            piece.onclick = () => selectPiece(row, col, 'white');
                            cell.appendChild(piece);
                        }
                    }
                    
                    cell.onclick = () => makeMove(row, col);
                    board.appendChild(cell);
                }
            }
            
            updateCheckersInfo();
        }

        function selectPiece(row, col, color) {
            if (color !== checkersGame.currentPlayer) return;
            
            checkersGame.selectedPiece = { row, col, color };
            
            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ñ–∏–≥—É—Ä—ã
            document.querySelectorAll('.checkers-piece').forEach(piece => {
                piece.style.boxShadow = '';
            });
            
            const piece = document.querySelector(`.checkers-cell[data-row="${row}"][data-col="${col}"] .checkers-piece`);
            if (piece) {
                piece.style.boxShadow = '0 0 10px gold';
            }
        }

        function makeMove(row, col) {
            if (!checkersGame.selectedPiece) return;
            
            const { row: fromRow, col: fromCol, color } = checkersGame.selectedPiece;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ö–æ–¥ –¥–æ–ø—É—Å—Ç–∏–º—ã–π (—Ç–æ–ª—å–∫–æ –≤–ø–µ—Ä–µ–¥ –ø–æ –¥–∏–∞–≥–æ–Ω–∞–ª–∏)
            const rowDiff = row - fromRow;
            const colDiff = Math.abs(col - fromCol);
            
            if (colDiff === 1 && ((color === 'white' && rowDiff === -1) || (color === 'black' && rowDiff === 1))) {
                // –ü–µ—Ä–µ–º–µ—â–∞–µ–º —Ñ–∏–≥—É—Ä—É
                const fromCell = document.querySelector(`.checkers-cell[data-row="${fromRow}"][data-col="${fromCol}"]`);
                const toCell = document.querySelector(`.checkers-cell[data-row="${row}"][data-col="${col}"]`);
                
                const piece = fromCell.querySelector('.checkers-piece');
                fromCell.removeChild(piece);
                toCell.appendChild(piece);
                
                checkersGame.moves++;
                checkersGame.currentPlayer = checkersGame.currentPlayer === 'white' ? 'black' : 'white';
                checkersGame.selectedPiece = null;
                
                updateCheckersInfo();
                
                // –ï—Å–ª–∏ —Å–¥–µ–ª–∞–Ω–æ 5 —Ö–æ–¥–æ–≤, –∑–∞–≤–µ—Ä—à–∞–µ–º
                if (checkersGame.moves >= 5) {
                    currentState.testData.coordination = checkersGame.moves;
                    document.getElementById('next-btn').click();
                }
            }
        }

        function updateCheckersInfo() {
            document.getElementById('checkers-turn').textContent = 
                checkersGame.currentPlayer === 'white' ? '–ë–µ–ª—ã—Ö' : '–ß–µ—Ä–Ω—ã—Ö';
            document.getElementById('moves-count').textContent = checkersGame.moves;
        }

        function resetCheckers() {
            checkersGame.moves = 0;
            checkersGame.currentPlayer = 'white';
            checkersGame.selectedPiece = null;
            initCheckers();
        }

        // –¢–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ
        function selectTacticAnswer(question) {
            const analysis = {
                1: "–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ç–∞–∫—Ç–∏–∫–∞ - –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –º—è—á –∏ –≤—Ä–µ–º—è. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∏–≥—Ä–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∫–æ–Ω—Ç—Ä–∞—Ç–∞–∫–µ.",
                2: "–û–ø—Ç–∏–º–∞–ª—å–Ω–æ - –±—ã—Å—Ç—Ä–∞—è –∞—Ç–∞–∫–∞ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –±—Ä–æ—Å–∫–∞. –ù–µ —Å—Ç–æ–∏—Ç —Ä–∏—Å–∫–æ–≤–∞—Ç—å —Ç—Ä–µ—Ö–æ—á–∫–æ–≤—ã–º —Å –±–æ–ª—å—à–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏.",
                3: "–ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ—é —Å–∏–ª—å–Ω—É—é –∑–∞—â–∏—Ç—É –∏ –∫–æ–Ω—Ç—Ä–∞—Ç–∞–∫–æ–≤–∞—Ç—å. –ù–µ –≤–≤—è–∑—ã–≤–∞—Ç—å—Å—è –≤ —Å–∏–ª–æ–≤—É—é –∏–≥—Ä—É —É —Å–µ—Ç–∫–∏."
            };
            
            document.getElementById('tactic-analysis').innerHTML = analysis[question];
            document.getElementById('tactic-feedback').classList.remove('hidden');
            
            if (!currentState.testData.tactical.includes(question)) {
                currentState.testData.tactical.push(question);
            }
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –∏ –∞–Ω–∞–ª–∏–∑
        function finishTest() {
            saveCurrentStepData();
            calculateResults();
            showResultsPage();
        }

        function calculateResults() {
            const data = currentState.testData;
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –±–∞–ª–ª—ã –ø–æ —Ä–∞–∑–Ω—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            const scores = {
                physical: calculatePhysicalScore(data.physical),
                reaction: calculateReactionScore(data.reaction),
                psychological: calculatePsychologicalScore(data.psychological),
                tactical: data.tactical.length * 10
            };
            
            // –û–±—â–∏–π –±–∞–ª–ª
            currentState.testResults = {
                scores,
                overallScore: Math.round((scores.physical + scores.reaction + scores.psychological + scores.tactical) / 4),
                timestamp: new Date().toISOString(),
                data: data
            };
        }

        function calculatePhysicalScore(physical) {
            let score = 0;
            
            // –û—Ü–µ–Ω–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ (100–º)
            if (physical.speed100m > 0) {
                if (physical.speed100m <= 13) score += 25; // –û—Ç–ª–∏—á–Ω–æ
                else if (physical.speed100m <= 16) score += 20; // –•–æ—Ä–æ—à–æ
                else if (physical.speed100m <= 20) score += 15; // –°—Ä–µ–¥–Ω–µ
                else score += 10; // –ù–∏–∂–µ —Å—Ä–µ–¥–Ω–µ–≥–æ
            }
            
            // –û—Ü–µ–Ω–∫–∞ —Å–∏–ª—ã (–æ—Ç–∂–∏–º–∞–Ω–∏—è)
            if (physical.pushups >= 40) score += 25;
            else if (physical.pushups >= 25) score += 20;
            else if (physical.pushups >= 15) score += 15;
            else if (physical.pushups > 0) score += 10;
            
            // –û—Ü–µ–Ω–∫–∞ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏ (–ø–ª–∞–Ω–∫–∞)
            if (physical.plank >= 180) score += 25;
            else if (physical.plank >= 120) score += 20;
            else if (physical.plank >= 60) score += 15;
            else if (physical.plank > 0) score += 10;
            
            return Math.min(score, 100);
        }

        function calculateReactionScore(reactionTimes) {
            if (!reactionTimes || reactionTimes.length === 0) return 50;
            
            const avg = reactionTimes.reduce((a, b) => a + b, 0) / reactionTimes.length;
            
            if (avg < 200) return 100; // –û—Ç–ª–∏—á–Ω–æ
            if (avg < 300) return 80;  // –•–æ—Ä–æ—à–æ
            if (avg < 400) return 60;  // –°—Ä–µ–¥–Ω–µ
            if (avg < 500) return 40;  // –ù–∏–∂–µ —Å—Ä–µ–¥–Ω–µ–≥–æ
            return 20; // –ü–ª–æ—Ö–æ
        }

        function calculatePsychologicalScore(psychological) {
            let score = 0;
            if (psychological.leadership) score += psychological.leadership * 3;
            if (psychological.stress) score += psychological.stress * 3;
            if (psychological.teamwork) score += psychological.teamwork * 4;
            return Math.min(score, 100);
        }

        function showResultsPage() {
            const results = currentState.testResults;
            const data = currentState.testData;
            
            // –ü—Ä–æ—Ñ–∏–ª—å —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞
            document.getElementById('athlete-profile').innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>${data.personal.name || '–ê–Ω–æ–Ω–∏–º'}</h4>
                        <div>–í–æ–∑—Ä–∞—Å—Ç: ${data.personal.age || '–ù–µ —É–∫–∞–∑–∞–Ω'}</div>
                        <div>–†–æ—Å—Ç: ${data.personal.height || '–ù–µ —É–∫–∞–∑–∞–Ω'} —Å–º</div>
                        <div>–í–µ—Å: ${data.personal.weight || '–ù–µ —É–∫–∞–∑–∞–Ω'} –∫–≥</div>
                    </div>
                    <div class="stat-card">
                        <h4>–û–±—â–∏–π –±–∞–ª–ª</h4>
                        <div style="font-size: 36px; color: var(--primary); font-weight: bold;">
                            ${results.overallScore}/100
                        </div>
                        <div>${getScoreDescription(results.overallScore)}</div>
                    </div>
                </div>
            `;
            
            // –§–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
            document.getElementById('physical-stats').innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>–°–∫–æ—Ä–æ—Å—Ç—å</h4>
                        <div>100–º: ${data.physical.speed100m || '–ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å'} —Å–µ–∫</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${calculateSpeedScore(data.physical.speed100m)}%"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <h4>–°–∏–ª–∞</h4>
                        <div>–û—Ç–∂–∏–º–∞–Ω–∏—è: ${data.physical.pushups || 0}</div>
                        <div>–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è: ${data.physical.squats || 0}</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${calculateStrengthScore(data.physical.pushups)}%"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <h4>–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å</h4>
                        <div>–ü–ª–∞–Ω–∫–∞: ${data.physical.plank || 0} —Å–µ–∫</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${calculateEnduranceScore(data.physical.plank)}%"></div>
                        </div>
                    </div>
                </div>
            `;
            
            // –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç
            document.getElementById('psychological-profile').innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>–õ–∏–¥–µ—Ä—Å—Ç–≤–æ</h4>
                        <div>${data.psychological.leadership || 5}/10</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${(data.psychological.leadership || 5) * 10}%"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <h4>–°—Ç—Ä–µ—Å—Å–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å</h4>
                        <div>${data.psychological.stress || 5}/10</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${(data.psychological.stress || 5) * 10}%"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <h4>–ö–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å</h4>
                        <div>${data.psychological.teamwork || 5}/10</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${(data.psychological.teamwork || 5) * 10}%"></div>
                        </div>
                    </div>
                </div>
            `;
            
            // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞
            const sportRecs = getSportRecommendations(results, data);
            document.getElementById('sport-recommendations').innerHTML = sportRecs;
            
            // –ò–¥–µ–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
            const posRecs = getPositionRecommendations(data);
            document.getElementById('position-recommendations').innerHTML = posRecs;
            
            // –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è
            const devPlan = getDevelopmentPlan(results, data);
            document.getElementById('development-plan').innerHTML = devPlan;
            
            showPage('page-results');
        }

        function getScoreDescription(score) {
            if (score >= 85) return "–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –í—ã –æ–±–ª–∞–¥–∞–µ—Ç–µ –≤—ã–¥–∞—é—â–∏–º–∏—Å—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.";
            if (score >= 70) return "–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –£ –≤–∞—Å —Ö–æ—Ä–æ—à–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Å–ø–æ—Ä—Ç–∞.";
            if (score >= 50) return "–°—Ä–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ï—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏!";
            return "–ù–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–æ–º–æ–≥—É—Ç —É–ª—É—á—à–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.";
        }

        function calculateSpeedScore(time) {
            if (!time) return 50;
            if (time <= 13) return 100;
            if (time <= 16) return 80;
            if (time <= 20) return 60;
            return 40;
        }

        function calculateStrengthScore(pushups) {
            if (!pushups) return 50;
            if (pushups >= 40) return 100;
            if (pushups >= 25) return 80;
            if (pushups >= 15) return 60;
            return 40;
        }

        function calculateEnduranceScore(plank) {
            if (!plank) return 50;
            if (plank >= 180) return 100;
            if (plank >= 120) return 80;
            if (plank >= 60) return 60;
            return 40;
        }

        function getSportRecommendations(results, data) {
            const recommendations = [];
            
            // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
            const physical = data.physical;
            const psych = data.psychological;
            
            // –§—É—Ç–±–æ–ª
            if (physical.speed100m <= 16 && psych.teamwork >= 7) {
                recommendations.push({
                    sport: "‚öΩ –§—É—Ç–±–æ–ª",
                    match: 85 + Math.floor(Math.random() * 15),
                    reason: "–•–æ—Ä–æ—à–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –∫–æ–º–∞–Ω–¥–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞"
                });
            }
            
            // –ë–∞—Å–∫–µ—Ç–±–æ–ª
            if (data.personal.height >= 180 && physical.speed100m <= 17) {
                recommendations.push({
                    sport: "üèÄ –ë–∞—Å–∫–µ—Ç–±–æ–ª",
                    match: 80 + Math.floor(Math.random() * 20),
                    reason: "–ü–æ–¥—Ö–æ–¥—è—â–∏–π —Ä–æ—Å—Ç –∏ —Å–∫–æ—Ä–æ—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"
                });
            }
            
            // –í–æ–ª–µ–π–±–æ–ª
            if (data.personal.height >= 185 && psych.reaction >= 7) {
                recommendations.push({
                    sport: "üèê –í–æ–ª–µ–π–±–æ–ª",
                    match: 75 + Math.floor(Math.random() * 25),
                    reason: "–†–æ—Å—Ç –∏ —Ö–æ—Ä–æ—à–∞—è —Ä–µ–∞–∫—Ü–∏—è"
                });
            }
            
            // –¢–µ–Ω–Ω–∏—Å
            if (data.testData?.reaction?.length && data.testData.reaction[0] < 300) {
                recommendations.push({
                    sport: "üéæ –¢–µ–Ω–Ω–∏—Å",
                    match: 90 + Math.floor(Math.random() * 10),
                    reason: "–û—Ç–ª–∏—á–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏"
                });
            }
            
            // –ï—Å–ª–∏ –Ω–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –¥–∞–µ–º –æ–±—â–∏–µ
            if (recommendations.length === 0) {
                recommendations.push(
                    { sport: "üèÉ –õ–µ–≥–∫–∞—è –∞—Ç–ª–µ—Ç–∏–∫–∞", match: 70, reason: "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞" },
                    { sport: "üèä –ü–ª–∞–≤–∞–Ω–∏–µ", match: 65, reason: "–†–∞–∑–≤–∏–≤–∞–µ—Ç –≤—Å–µ –≥—Ä—É–ø–ø—ã –º—ã—à—Ü" },
                    { sport: "üö¥ –í–µ–ª–æ—Å–ø–æ—Ä—Ç", match: 60, reason: "–û—Ç–ª–∏—á–Ω–æ –¥–ª—è –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏" }
                );
            }
            
            let html = '<div class="stats-grid">';
            recommendations.forEach(rec => {
                html += `
                    <div class="stat-card">
                        <h4>${rec.sport}</h4>
                        <div style="font-size: 24px; color: var(--primary); font-weight: bold;">
                            ${rec.match}%
                        </div>
                        <div style="font-size: 12px; color: var(--text-light);">
                            ${rec.reason}
                        </div>
                    </div>
                `;
            });
            html += '</div>';
            
            return html;
        }

        function getPositionRecommendations(data) {
            const physical = data.physical;
            const psych = data.psychological;
            
            let positions = [];
            
            // –î–ª—è —Ñ—É—Ç–±–æ–ª–∞
            if (physical.speed100m <= 14) {
                positions.push({ sport: "‚öΩ", position: "–ö—Ä–∞–π–Ω–∏–π –Ω–∞–ø–∞–¥–∞—é—â–∏–π", reason: "–û—Ç–ª–∏—á–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å" });
            }
            if (psych.leadership >= 8) {
                positions.push({ sport: "‚öΩ", position: "–í—Ä–∞—Ç–∞—Ä—å/–ö–∞–ø–∏—Ç–∞–Ω", reason: "–õ–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞" });
            }
            if (physical.plank >= 120) {
                positions.push({ sport: "‚öΩ", position: "–û–ø–æ—Ä–Ω—ã–π –ø–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫", reason: "–•–æ—Ä–æ—à–∞—è –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å" });
            }
            
            // –î–ª—è –±–∞—Å–∫–µ—Ç–±–æ–ª–∞
            if (data.personal.height >= 190) {
                positions.push({ sport: "üèÄ", position: "–¶–µ–Ω—Ç—Ä–æ–≤–æ–π", reason: "–†–æ—Å—Ç" });
            }
            if (data.testData?.reaction?.length && data.testData.reaction[0] < 250) {
                positions.push({ sport: "üèÄ", position: "–†–∞–∑—ã–≥—Ä—ã–≤–∞—é—â–∏–π", reason: "–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è" });
            }
            
            let html = '<div class="stats-grid">';
            positions.slice(0, 3).forEach(pos => {
                html += `
                    <div class="stat-card">
                        <h4>${pos.sport} ${pos.position}</h4>
                        <div style="color: var(--text-light); font-size: 14px;">
                            ${pos.reason}
                        </div>
                    </div>
                `;
            });
            html += '</div>';
            
            return html || '<p>–ü—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</p>';
        }

        function getDevelopmentPlan(results, data) {
            const recommendations = [];
            
            // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞
            if (data.physical.speed100m > 16) {
                recommendations.push("üìà <strong>–°–∫–æ—Ä–æ—Å—Ç—å:</strong> –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, —Å–ø—Ä–∏–Ω—Ç—ã 3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é");
            }
            
            if (data.physical.pushups < 20) {
                recommendations.push("üí™ <strong>–°–∏–ª–∞:</strong> –°–∏–ª–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é, –æ—Ç–∂–∏–º–∞–Ω–∏—è —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–µ–π");
            }
            
            if (data.physical.plank < 90) {
                recommendations.push("‚ù§Ô∏è <strong>–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å:</strong> –ö–∞—Ä–¥–∏–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –±–µ–≥, –ø–ª–∞–≤–∞–Ω–∏–µ");
            }
            
            if (data.psychological.teamwork < 7) {
                recommendations.push("üë• <strong>–ö–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å:</strong> –ö–æ–º–∞–Ω–¥–Ω—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞, –≥—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏");
            }
            
            if (data.testData?.reaction?.length && data.testData.reaction[0] > 300) {
                recommendations.push("‚ö° <strong>–†–µ–∞–∫—Ü–∏—è:</strong> –ò–≥—Ä–æ–≤—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞, —Ç–µ–Ω–Ω–∏—Å, –±–∞–¥–º–∏–Ω—Ç–æ–Ω");
            }
            
            if (recommendations.length === 0) {
                recommendations.push("üéØ <strong>–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã:</strong> –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 3-4 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é");
                recommendations.push("üçé <strong>–ü–∏—Ç–∞–Ω–∏–µ:</strong> –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–∏–µ—Ç–∞, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–µ–ª–∫–∞");
                recommendations.push("üí§ <strong>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> –°–æ–Ω 7-8 —á–∞—Å–æ–≤, —Ä–∞—Å—Ç—è–∂–∫–∞ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫");
            }
            
            return `
                <ul style="padding-left: 20px;">
                    ${recommendations.map(rec => `<li>${rec}</li>`).join('')}
                </ul>
                <div style="margin-top: 20px; padding: 15px; background: #e8f5e9; border-radius: var(--radius);">
                    <strong>üèÜ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω:</strong> 3 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ –Ω–µ–¥–µ–ª—é, 1 –∏–≥—Ä–æ–≤–æ–π –¥–µ–Ω—å, 1 –¥–µ–Ω—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
                </div>
            `;
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function saveResults() {
            const results = currentState.testResults;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–º—è
            if (currentState.testData.personal.name) {
                localStorage.setItem('userName', currentState.testData.personal.name);
                document.getElementById('user-name').textContent = currentState.testData.personal.name;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            let savedData = JSON.parse(localStorage.getItem('sportsAnalyzerData')) || {};
            savedData.lastTest = results;
            savedData.testHistory = savedData.testHistory || [];
            savedData.testHistory.push(results);
            
            localStorage.setItem('sportsAnalyzerData', JSON.stringify(savedData));
            localStorage.setItem('sportsAnalyzerResults', JSON.stringify(results));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            document.getElementById('user-score').textContent = `${results.overallScore}/100`;
            document.getElementById('initial-test-alert').classList.add('hidden');
            
            alert('‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
            backToWelcome();
        }

        function restartTest() {
            if (confirm('–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç? –¢–µ–∫—É—â–∏–µ –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã.')) {
                startComprehensiveTest();
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤
        function displayTestHistory() {
            const savedData = JSON.parse(localStorage.getItem('sportsAnalyzerData'));
            const history = savedData?.testHistory || [];
            
            const container = document.getElementById('results-history');
            
            if (history.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--text-light);">
                        <i class="fas fa-clipboard-list" style="font-size: 48px; margin-bottom: 20px;"></i>
                        <h3>–ò—Å—Ç–æ—Ä–∏—è —Ç–µ—Å—Ç–æ–≤ –ø—É—Å—Ç–∞</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ –ø–µ—Ä–≤—ã–π —Ç–µ—Å—Ç, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å —Å–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!</p>
                        <button class="btn btn-primary" onclick="startComprehensiveTest()" style="margin-top: 20px;">
                            <i class="fas fa-play"></i> –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç
                        </button>
                    </div>
                `;
                return;
            }
            
            let html = '<div class="stats-grid">';
            
            history.reverse().forEach((test, index) => {
                const date = new Date(test.timestamp).toLocaleDateString();
                const time = new Date(test.timestamp).toLocaleTimeString();
                
                html += `
                    <div class="stat-card" onclick="showTestDetails(${history.length - 1 - index})" style="cursor: pointer;">
                        <h4>–¢–µ—Å—Ç –æ—Ç ${date}</h4>
                        <div style="font-size: 32px; color: var(--primary); font-weight: bold;">
                            ${test.overallScore}/100
                        </div>
                        <div style="font-size: 12px; color: var(--text-light);">
                            ${time} ‚Ä¢ ${test.scores.physical}/100 —Ñ–∏–∑–∏–∫–∞
                        </div>
                        <div style="margin-top: 10px; font-size: 12px;">
                            <i>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π</i>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        function showTestDetails(index) {
            const savedData = JSON.parse(localStorage.getItem('sportsAnalyzerData'));
            const test = savedData.testHistory[index];
            
            let details = `–î–µ—Ç–∞–ª–∏ —Ç–µ—Å—Ç–∞ –æ—Ç ${new Date(test.timestamp).toLocaleDateString()}:\n\n`;
            details += `–û–±—â–∏–π –±–∞–ª–ª: ${test.overallScore}/100\n\n`;
            details += `–§–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏: ${test.scores.physical}/100\n`;
            details += `–†–µ–∞–∫—Ü–∏—è: ${test.scores.reaction}/100\n`;
            details += `–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è: ${test.scores.psychological}/100\n`;
            details += `–¢–∞–∫—Ç–∏–∫–∞: ${test.scores.tactical}/100\n\n`;
            
            if (test.data?.personal?.name) {
                details += `–ò–º—è: ${test.data.personal.name}\n`;
                details += `–í–æ–∑—Ä–∞—Å—Ç: ${test.data.personal.age}\n`;
                details += `–†–æ—Å—Ç: ${test.data.personal.height} —Å–º\n`;
                details += `–í–µ—Å: ${test.data.personal.weight} –∫–≥\n`;
            }
            
            alert(details);
        }

        // –í—ã–±–æ—Ä —Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
        function selectSport(sport) {
            const sportData = SPORTS_DATA[sport];
            if (!sportData) return;
            
            document.getElementById('sport-analysis-title').innerHTML = 
                `<i class="fas fa-chart-pie"></i> –ê–Ω–∞–ª–∏–∑ –¥–ª—è ${sportData.name}`;
            
            const container = document.getElementById('sport-analysis-content');
            
            // –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞
            const savedData = JSON.parse(localStorage.getItem('sportsAnalyzerData'));
            const lastTest = savedData?.lastTest;
            
            if (!lastTest) {
                container.innerHTML = `
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-circle"></i>
                        <div>
                            <strong>–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π–¥–∏—Ç–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç</strong>
                            <p>–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–∑–∏—Ü–∏–π –≤ ${sportData.name} –Ω—É–∂–Ω—ã –≤–∞—à–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ</p>
                            <button class="btn btn-primary" onclick="startComprehensiveTest()" style="margin-top: 10px;">
                                <i class="fas fa-play"></i> –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç
                            </button>
                        </div>
                    </div>
                `;
            } else {
                const userData = lastTest.data;
                const analysis = analyzeForSport(sport, userData);
                container.innerHTML = analysis;
            }
            
            showPage('page-sport-analysis');
        }

        function analyzeForSport(sport, userData) {
            const sportData = SPORTS_DATA[sport];
            let html = `<h3>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ ${sportData.name}:</h3>`;
            
            html += '<div class="stats-grid">';
            
            sportData.positions.forEach(position => {
                // –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
                let matchScore = 50; // –ë–∞–∑–æ–≤—ã–π –±–∞–ª–ª
                
                // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏
                if (position.requirements.reaction && userData.testData?.reaction?.length) {
                    const avgReaction = userData.testData.reaction.reduce((a, b) => a + b, 0) / userData.testData.reaction.length;
                    if (avgReaction < 300) matchScore += 15;
                }
                
                if (position.requirements.strength && userData.physical.pushups >= 20) {
                    matchScore += 10;
                }
                
                if (position.requirements.leadership && userData.psychological.leadership >= 7) {
                    matchScore += 10;
                }
                
                if (position.requirements.speed && userData.physical.speed100m <= 16) {
                    matchScore += 15;
                }
                
                matchScore = Math.min(matchScore, 100);
                
                html += `
                    <div class="stat-card">
                        <h4>${position.name}</h4>
                        <div style="font-size: 24px; color: var(--primary); font-weight: bold;">
                            ${matchScore}%
                        </div>
                        <div class="progress-bar" style="margin: 10px 0;">
                            <div class="progress-fill" style="width: ${matchScore}%"></div>
                        </div>
                        <div style="font-size: 12px; color: var(--text-light);">
                            ${getPositionTips(position.name, sport)}
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            html += `
                <div class="analysis-card" style="margin-top: 20px;">
                    <h4><i class="fas fa-lightbulb"></i> –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è ${sportData.name}:</h4>
                    <ul style="padding-left: 20px;">
                        ${getSportSpecificTips(sport, userData)}
                    </ul>
                </div>
            `;
            
            return html;
        }

        function getPositionTips(position, sport) {
            const tips = {
                'football': {
                    '–í—Ä–∞—Ç–∞—Ä—å': '–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–∞–∫—Ü–∏—é –∏ –ø—Ä—ã–≥—É—á–µ—Å—Ç—å',
                    '–ù–∞–ø–∞–¥–∞—é—â–∏–π': '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Ç–æ—á–Ω–æ—Å—Ç—å —É–¥–∞—Ä–∞',
                    '–ü–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫': '–£–ª—É—á—à–∞–π—Ç–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å –∏ –≤–∏–¥–µ–Ω–∏–µ –ø–æ–ª—è'
                },
                'basketball': {
                    '–†–∞–∑—ã–≥—Ä—ã–≤–∞—é—â–∏–π': '–†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞–¥ –ø–∞—Å–æ–º –∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –º—è—á–∞',
                    '–¶–µ–Ω—Ç—Ä–æ–≤–æ–π': '–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ –∏–≥—Ä—É –ø–æ–¥ –∫–æ–ª—å—Ü–æ–º –∏ –ø–æ–¥–±–æ—Ä—ã'
                }
            };
            
            return tips[sport]?.[position] || '–¢—Ä–µ–±—É–µ—Ç—Å—è –≤—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ';
        }

        function getSportSpecificTips(sport, userData) {
            const tips = [];
            
            switch(sport) {
                case 'football':
                    if (userData.physical.speed100m > 16) tips.push('–£–ª—É—á—à–∞–π—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å: —Å–ø—Ä–∏–Ω—Ç–µ—Ä—Å–∫–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é');
                    if (userData.physical.plank < 120) tips.push('–†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞–¥ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å—é: –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–π –±–µ–≥, –∫—Ä–æ—Å—Å—ã');
                    tips.push('–¢–µ—Ö–Ω–∏–∫–∞: —Ä–∞–±–æ—Ç–∞ —Å –º—è—á–æ–º –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –º–∏–Ω–∏–º—É–º 30 –º–∏–Ω—É—Ç');
                    break;
                case 'basketball':
                    if (userData.personal.height < 180) tips.push('–ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–π—Ç–µ —Ä–æ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ —Ç–µ—Ö–Ω–∏–∫–æ–π');
                    tips.push('–ë—Ä–æ—Å–∫–∏: –º–∏–Ω–∏–º—É–º 100 –±—Ä–æ—Å–∫–æ–≤ –≤ –¥–µ–Ω—å —Å —Ä–∞–∑–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π');
                    tips.push('–î—Ä–∏–±–ª–∏–Ω–≥: —Ä–∞–±–æ—Ç–∞ —Å –º—è—á–æ–º –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å');
                    break;
                case 'volleyball':
                    tips.push('–ü—Ä—ã–≥—É—á–µ—Å—Ç—å: –ø–ª–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é');
                    tips.push('–†–µ–∞–∫—Ü–∏—è: —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —É —Å–µ—Ç–∫–∏, —Ä–∞–±–æ—Ç–∞ –Ω–∞ –±–ª–æ–∫–µ');
                    tips.push('–ü–æ–¥–∞—á–∞: –æ—Ç—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö –≤–∏–¥–æ–≤ –ø–æ–¥–∞—á');
                    break;
            }
            
            return tips.map(tip => `<li>${tip}</li>`).join('');
        }

        // –ú–∏–Ω–∏-–∏–≥—Ä—ã
        function startReactionGame() {
            alert('üéÆ –ò–≥—Ä–∞ "–†–µ–∞–∫—Ü–∏—è" –∑–∞–ø—É—â–µ–Ω–∞! –ö–ª–∏–∫–∞–π—Ç–µ –ø–æ –ø–æ—è–≤–ª—è—é—â–∏–º—Å—è —Ü–µ–ª—è–º –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ.');
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –∏–≥—Ä—É
        }

        function startCoordinationGame() {
            alert('üéØ –ò–≥—Ä–∞ "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è" –∑–∞–ø—É—â–µ–Ω–∞! –ü–æ–ø–∞–¥–∞–π—Ç–µ –≤ –¥–≤–∏–∂—É—â–∏–µ—Å—è –º–∏—à–µ–Ω–∏.');
        }

        function startMemoryGame() {
            alert('üß† –ò–≥—Ä–∞ "–ü–∞–º—è—Ç—å" –∑–∞–ø—É—â–µ–Ω–∞! –ó–∞–ø–æ–º–∏–Ω–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏–π.');
        }

        function startStrategyGame() {
            alert('‚ôüÔ∏è –ò–≥—Ä–∞ "–°—Ç—Ä–∞—Ç–µ–≥–∏—è" –∑–∞–ø—É—â–µ–Ω–∞! –†–µ—à–∞–π—Ç–µ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏.');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            initApp();
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —à–∞—à–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏
            setTimeout(initCheckers, 100);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ª–∞–π–¥–µ—Ä—ã
            updateRangeValue('leadership');
            updateRangeValue('stress');
            updateRangeValue('teamwork');
        };
    </script>
</body>
</html>