<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sports Analyzer Pro - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1e88e5;
            --primary-dark: #0d47a1;
            --secondary: #00c853;
            --accent: #ff6b6b;
            --warning: #ff9800;
            --success: #4caf50;
            --light-bg: #f5f7fa;
            --dark-bg: #1a237e;
            --card-bg: #ffffff;
            --text: #263238;
            --text-light: #546e7a;
            --border: #e0e0e0;
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
            --radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            min-height: 90vh;
        }

        .header {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
        }

        .header i {
            font-size: 28px;
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 50%;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 600;
        }

        .header .subtitle {
            opacity: 0.9;
            font-size: 14px;
        }

        .user-info {
            position: absolute;
            right: 20px;
            top: 20px;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .user-badge {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .main-content {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            min-height: 70vh;
        }

        /* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã */
        .welcome-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: var(--radius);
            text-align: center;
            margin-bottom: 20px;
        }

        .welcome-message {
            background: linear-gradient(to right, #e8f5e9, #c8e6c9);
            padding: 25px;
            border-radius: var(--radius);
            border-left: 5px solid var(--secondary);
        }

        .alert {
            padding: 15px;
            border-radius: var(--radius);
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-warning {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            color: #856404;
        }

        .alert-success {
            background: #d4edda;
            border-left: 5px solid #28a745;
            color: #155724;
        }

        .sport-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .sport-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 2px solid transparent;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .sport-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            border-color: var(--primary);
        }

        .sport-card i {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .sport-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--accent);
            color: white;
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .menu-btn {
            background: white;
            border: none;
            padding: 25px;
            border-radius: var(--radius);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 8px rgba(0,0,0,0.08);
            position: relative;
        }

        .menu-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
        }

        .menu-btn:hover i {
            color: white;
        }

        .menu-btn i {
            font-size: 32px;
            color: var(--primary);
        }

        /* –¢–µ—Å—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ */
        .test-container {
            background: white;
            padding: 25px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin: 20px 0;
        }

        .test-step {
            background: #f8f9fa;
            padding: 25px;
            border-radius: var(--radius);
            margin: 15px 0;
            border-left: 4px solid var(--primary);
        }

        .input-group {
            margin: 20px 0;
        }

        .input-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text);
        }

        .input-field {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-field:focus {
            border-color: var(--primary);
            outline: none;
        }

        .range-container {
            margin: 30px 0;
        }

        .range-slider {
            width: 100%;
            height: 10px;
            -webkit-appearance: none;
            background: linear-gradient(to right, #ff6b6b, #ffd166, #06d6a0);
            border-radius: 5px;
            outline: none;
            margin: 20px 0;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .range-value {
            font-size: 36px;
            font-weight: bold;
            text-align: center;
            color: var(--primary);
            margin: 10px 0;
        }

        .range-labels {
            display: flex;
            justify-content: space-between;
            color: var(--text-light);
            font-size: 14px;
            margin-top: 5px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .option-btn {
            padding: 20px;
            background: white;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .option-btn:hover {
            border-color: var(--primary);
            background: #f0f7ff;
        }

        .option-btn.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç */
        .psych-question {
            background: white;
            padding: 25px;
            border-radius: var(--radius);
            margin: 20px 0;
            box-shadow: var(--shadow);
        }

        .psych-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .psych-option {
            padding: 20px;
            background: #f8f9fa;
            border-radius: var(--radius);
            border-left: 4px solid #ddd;
            cursor: pointer;
            transition: all 0.3s;
        }

        .psych-option:hover {
            background: #e8f5e9;
            border-left-color: var(--secondary);
        }

        .psych-option.selected {
            background: #e3f2fd;
            border-left-color: var(--primary);
        }

        .psych-option .score {
            float: right;
            background: var(--primary);
            color: white;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 12px;
        }

        /* –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã */
        .test-area {
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin: 20px 0;
            text-align: center;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .test-target {
            width: 100px;
            height: 100px;
            background: var(--accent);
            border-radius: 50%;
            margin: 20px auto;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
            transition: all 0.2s;
            user-select: none;
        }

        .test-target:hover {
            transform: scale(1.05);
        }

        .test-target.active {
            background: var(--success);
            transform: scale(1.1);
        }

        .test-target.disabled {
            background: #cccccc;
            cursor: not-allowed;
        }

        .test-timer {
            font-size: 48px;
            font-weight: bold;
            margin: 20px 0;
            color: var(--primary);
        }

        .test-instruction {
            font-size: 18px;
            margin: 15px 0;
            color: var(--text-light);
        }

        .test-results {
            background: rgba(0,0,0,0.05);
            padding: 20px;
            border-radius: var(--radius);
            margin: 20px 0;
            width: 100%;
        }

        /* –ò–≥—Ä—ã */
        .game-container {
            background: var(--dark-bg);
            color: white;
            padding: 30px;
            border-radius: var(--radius);
            text-align: center;
            margin: 20px 0;
            min-height: 400px;
        }

        .moving-target {
            width: 60px;
            height: 60px;
            background: var(--accent);
            border-radius: 50%;
            position: absolute;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.1s;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        .coordination-area {
            width: 100%;
            height: 300px;
            background: rgba(0,0,0,0.2);
            border-radius: var(--radius);
            position: relative;
            margin: 20px 0;
            overflow: hidden;
        }

        .sound-test-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .sound-button {
            padding: 20px 40px;
            font-size: 18px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.3s;
        }

        .sound-button:hover {
            background: var(--primary-dark);
        }

        /* –ù–û–í–´–ô –¢–ï–°–¢: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å */
        .sequence-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
            max-width: 400px;
        }

        .sequence-box {
            width: 100%;
            height: 100px;
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            font-size: 32px;
            user-select: none;
            border: 3px solid transparent;
        }

        .sequence-box:hover {
            transform: scale(1.05);
            border-color: white;
        }

        .sequence-box.active {
            box-shadow: 0 0 20px #ffd700;
            transform: scale(1.1);
            border-color: #ffd700;
        }

        .sequence-box.correct {
            box-shadow: 0 0 20px var(--success);
            border-color: var(--success);
        }

        .sequence-box.incorrect {
            box-shadow: 0 0 20px var(--accent);
            border-color: var(--accent);
        }

        .sequence-box.disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        /* –ù–û–í–´–ô –¢–ï–°–¢: –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π */
        .decision-test-container {
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin: 20px 0;
        }

        .scenario-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: var(--radius);
            margin: 20px 0;
            border-left: 4px solid var(--primary);
        }

        .scenario-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .scenario-option {
            padding: 20px;
            background: white;
            border-radius: var(--radius);
            border: 2px solid var(--border);
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }

        .scenario-option:hover {
            border-color: var(--primary);
            background: #f0f7ff;
        }

        .scenario-option.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ */
        .results-container {
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin: 20px 0;
        }

        .analysis-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: var(--radius);
            margin: 15px 0;
            border-left: 4px solid var(--primary);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: var(--radius);
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border-top: 4px solid var(--primary);
        }

        .progress-container {
            margin: 15px 0;
        }

        .progress-bar {
            height: 10px;
            background: var(--light-bg);
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--secondary), var(--primary));
            border-radius: 5px;
            transition: width 1s ease;
        }

        .score-display {
            font-size: 32px;
            font-weight: bold;
            color: var(--primary);
            text-align: center;
            margin: 10px 0;
        }

        .score-label {
            font-size: 14px;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .navigation {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: var(--light-bg);
            color: var(--text);
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .btn-accent {
            background: var(--accent);
            color: white;
        }

        .btn-accent:hover {
            background: #ff4757;
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-warning:hover {
            background: #f57c00;
        }

        /* –£—Ç–∏–ª–∏—Ç—ã */
        .hidden {
            display: none !important;
        }

        .page {
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: var(--text-light);
            font-size: 14px;
            border-top: 1px solid var(--border);
            margin-top: 20px;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .container {
                border-radius: 0;
                min-height: 100vh;
            }
            
            body {
                padding: 0;
            }
            
            .sport-cards, .menu-grid, .options-grid, .sequence-grid {
                grid-template-columns: 1fr;
            }
            
            .user-info {
                position: static;
                margin-top: 15px;
                justify-content: center;
            }
            
            .test-target, .moving-target {
                width: 80px;
                height: 80px;
            }
            
            .coordination-area {
                height: 200px;
            }
            
            .sequence-box {
                height: 80px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="penguin-icon">
                <i class="fas fa-running"></i>
            </div>
            <div>
                <h1>Sports Analyzer Pro</h1>
                <div class="subtitle">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</div>
            </div>
            
            <div class="user-info">
                <div class="user-badge">
                    <i class="fas fa-user"></i>
                    <span id="user-name">–ê–Ω–∞–ª–∏—Ç–∏–∫</span>
                </div>
                <div class="user-badge">
                    <i class="fas fa-chart-line"></i>
                    <span id="user-score">–ù–µ –æ—Ü–µ–Ω–µ–Ω</span>
                </div>
            </div>
        </div>

        <div class="main-content">
            <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
            <div id="page-welcome" class="page">
                <div class="welcome-banner">
                    <h1><i class="fas fa-bullseye"></i> –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Sports Analyzer Pro!</h1>
                    <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–∞—à–∏—Ö —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã</p>
                </div>

                <div id="initial-test-alert" class="alert alert-warning">
                    <i class="fas fa-exclamation-circle"></i>
                    <div>
                        <strong>–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–π—Ç–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç</strong>
                        <p>–≠—Ç–æ –∑–∞–π–º–µ—Ç 10-15 –º–∏–Ω—É—Ç, –Ω–æ –¥–∞—Å—Ç —Ç–æ—á–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</p>
                    </div>
                </div>

                <div class="welcome-message">
                    <h2><i class="fas fa-flask"></i> –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h2>
                    <p>–ù–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã:</p>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <i class="fas fa-stopwatch" style="font-size: 32px; color: var(--primary);"></i>
                            <h3>–§–∏–∑–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã</h3>
                            <p>–ó–∞–º–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–∏, —Ä–µ–∞–∫—Ü–∏–∏, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-brain" style="font-size: 32px; color: var(--primary);"></i>
                            <h3>–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã</h3>
                            <p>–°—Ç—Ä–∞—Ç–µ–≥–∏—è, –ª–æ–≥–∏–∫–∞, –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-gamepad" style="font-size: 32px; color: var(--primary);"></i>
                            <h3>–û–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è</h3>
                            <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π</p>
                        </div>
                    </div>
                </div>

                <div class="menu-grid">
                    <div class="menu-btn" onclick="startComprehensiveTest()">
                        <i class="fas fa-play-circle"></i>
                        <span>–ù–∞—á–∞—Ç—å –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑</span>
                        <div class="sport-badge">üöÄ</div>
                    </div>
                    
                    <div class="menu-btn" onclick="showMyResults()">
                        <i class="fas fa-chart-bar"></i>
                        <span>–ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</span>
                        <div class="sport-badge">üìä</div>
                    </div>
                    
                    <div class="menu-btn" onclick="showSportsSelection()">
                        <i class="fas fa-futbol"></i>
                        <span>–ê–Ω–∞–ª–∏–∑ –ø–æ –≤–∏–¥—É —Å–ø–æ—Ä—Ç–∞</span>
                        <div class="sport-badge">üéØ</div>
                    </div>
                    
                    <div class="menu-btn" onclick="showMiniGames()">
                        <i class="fas fa-gamepad"></i>
                        <span>–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –∏–≥—Ä—ã</span>
                        <div class="sport-badge">üéÆ</div>
                    </div>
                </div>
            </div>

            <!-- –í—ã–±–æ—Ä —Å–ø–æ—Ä—Ç–∞ -->
            <div id="page-sports" class="page hidden">
                <div class="welcome-message">
                    <h2><i class="fas fa-futbol"></i> –í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</h2>
                    <p>–ú—ã –ø–æ–¥–±–µ—Ä–µ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –∏ –¥–∞–¥–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é</p>
                </div>

                <div class="sport-cards">
                    <div class="sport-card" onclick="selectSport('football')">
                        <i class="fas fa-futbol"></i>
                        <div class="sport-badge">‚öΩ</div>
                        <h3>–§—É—Ç–±–æ–ª</h3>
                        <p>8 –ø–æ–∑–∏—Ü–∏–π, –∞–Ω–∞–ª–∏–∑ —Å–∫–æ—Ä–æ—Å—Ç–∏, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏, —Ç–µ—Ö–Ω–∏–∫–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="selectSport('basketball')">
                        <i class="fas fa-basketball-ball"></i>
                        <div class="sport-badge">üèÄ</div>
                        <h3>–ë–∞—Å–∫–µ—Ç–±–æ–ª</h3>
                        <p>5 –ø–æ–∑–∏—Ü–∏–π, –∞–Ω–∞–ª–∏–∑ –ø—Ä—ã–≥—É—á–µ—Å—Ç–∏, —Ç–æ—á–Ω–æ—Å—Ç–∏, —Å–∫–æ—Ä–æ—Å—Ç–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="selectSport('volleyball')">
                        <i class="fas fa-volleyball-ball"></i>
                        <div class="sport-badge">üèê</div>
                        <h3>–í–æ–ª–µ–π–±–æ–ª</h3>
                        <p>6 –ø–æ–∑–∏—Ü–∏–π, –∞–Ω–∞–ª–∏–∑ —Ä–µ–∞–∫—Ü–∏–∏, –ø—Ä—ã–≥—É—á–µ—Å—Ç–∏, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="selectSport('tennis')">
                        <i class="fas fa-table-tennis"></i>
                        <div class="sport-badge">üéæ</div>
                        <h3>–¢–µ–Ω–Ω–∏—Å</h3>
                        <p>4 —Å—Ç–∏–ª—è –∏–≥—Ä—ã, –∞–Ω–∞–ª–∏–∑ —Ä–µ–∞–∫—Ü–∏–∏, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏, —Ç–∞–∫—Ç–∏–∫–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="selectSport('hockey')">
                        <i class="fas fa-hockey-puck"></i>
                        <div class="sport-badge">üèí</div>
                        <h3>–•–æ–∫–∫–µ–π</h3>
                        <p>4 –∞–º–ø–ª—É–∞, –∞–Ω–∞–ª–∏–∑ —Å–∫–æ—Ä–æ—Å—Ç–∏, —Å–∏–ª—ã, —Ä–µ–∞–∫—Ü–∏–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="selectSport('swimming')">
                        <i class="fas fa-swimmer"></i>
                        <div class="sport-badge">üèä</div>
                        <h3>–ü–ª–∞–≤–∞–Ω–∏–µ</h3>
                        <p>4 —Å—Ç–∏–ª—è, –∞–Ω–∞–ª–∏–∑ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏, —Ç–µ—Ö–Ω–∏–∫–∏, –¥—ã—Ö–∞–Ω–∏—è</p>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="backToWelcome()">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>

            <!-- –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç -->
            <div id="page-comprehensive-test" class="page hidden">
                <div class="test-container">
                    <h2 id="test-title"><i class="fas fa-clipboard-list"></i> –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç</h2>
                    <div id="test-progress" style="margin: 10px 0; color: var(--text-light);"></div>
                    
                    <!-- –®–∞–≥ 1: –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
                    <div id="test-step-1" class="test-step">
                        <h3><i class="fas fa-user"></i> –®–∞–≥ 1: –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                        <div class="input-group">
                            <label class="input-label">–í–∞—à–µ –∏–º—è:</label>
                            <input type="text" class="input-field" id="user-name-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
                        </div>
                        <div class="input-group">
                            <label class="input-label">–í–æ–∑—Ä–∞—Å—Ç:</label>
                            <input type="number" class="input-field" id="user-age" min="10" max="70" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–∑—Ä–∞—Å—Ç">
                        </div>
                        <div class="input-group">
                            <label class="input-label">–†–æ—Å—Ç (—Å–º):</label>
                            <input type="number" class="input-field" id="user-height" min="100" max="220" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 180">
                        </div>
                        <div class="input-group">
                            <label class="input-label">–í–µ—Å (–∫–≥):</label>
                            <input type="number" class="input-field" id="user-weight" min="30" max="150" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 75">
                        </div>
                    </div>

                    <!-- –®–∞–≥ 2: –¢–µ—Å—Ç –∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Ä–µ–∞–∫—Ü–∏–∏ -->
                    <div id="test-step-2" class="test-step hidden">
                        <h3><i class="fas fa-eye"></i> –®–∞–≥ 2: –¢–µ—Å—Ç –∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Ä–µ–∞–∫—Ü–∏–∏</h3>
                        <p class="test-instruction">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫—Ä–∞—Å–Ω—ã–π –∫—Ä—É–≥, –∫–æ–≥–¥–∞ –æ–Ω –ø–æ—è–≤–∏—Ç—Å—è. –¢–µ—Å—Ç –Ω–∞—á–Ω–µ—Ç—Å—è —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã.</p>
                        
                        <div class="test-area">
                            <div id="visual-reaction-target" class="test-target disabled" onclick="recordVisualReaction()">
                                –ñ–ú–ò!
                            </div>
                            <div class="test-timer" id="visual-reaction-timer">‚Äî</div>
                            <div class="test-results hidden" id="visual-reaction-results">
                                <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Ä–µ–∞–∫—Ü–∏–∏:</h4>
                                <div id="visual-reaction-times"></div>
                                <div>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: <span id="avg-visual-reaction">0</span> –º—Å</div>
                                <div class="score-display" id="visual-reaction-score">0/10</div>
                            </div>
                            <button id="start-visual-reaction" class="btn btn-primary" onclick="startVisualReactionTest()">
                                <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
                            </button>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 3: –¢–µ—Å—Ç —Å–ª—É—Ö–æ–≤–æ–π —Ä–µ–∞–∫—Ü–∏–∏ (–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô) -->
                    <div id="test-step-3" class="test-step hidden">
                        <h3><i class="fas fa-ear-listen"></i> –®–∞–≥ 3: –¢–µ—Å—Ç —Å–ª—É—Ö–æ–≤–æ–π —Ä–µ–∞–∫—Ü–∏–∏</h3>
                        <p class="test-instruction">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, –∫–∞–∫ —Ç–æ–ª—å–∫–æ —É—Å–ª—ã—à–∏—Ç–µ –∑–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª. –ù–µ –æ–±—Ä–∞—â–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω.</p>
                        
                        <div class="test-area sound-test-container">
                            <div class="test-timer" id="sound-reaction-timer">–ñ–¥–∏—Ç–µ –∑–≤—É–∫–∞...</div>
                            <button id="sound-reaction-button" class="sound-button" onclick="recordSoundReaction()">
                                –ù–∞–∂–º–∏—Ç–µ –ø—Ä–∏ –∑–≤—É–∫–µ
                            </button>
                            <div class="test-results hidden" id="sound-reaction-results">
                                <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–ª—É—Ö–æ–≤–æ–π —Ä–µ–∞–∫—Ü–∏–∏:</h4>
                                <div id="sound-reaction-times"></div>
                                <div>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: <span id="avg-sound-reaction">0</span> –º—Å</div>
                                <div class="score-display" id="sound-reaction-score">0/10</div>
                            </div>
                            <button id="start-sound-reaction" class="btn btn-primary" onclick="startSoundReactionTest()">
                                <i class="fas fa-volume-up"></i> –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
                            </button>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 4: –¢–µ—Å—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ -->
                    <div id="test-step-4" class="test-step hidden">
                        <h3><i class="fas fa-crosshairs"></i> –®–∞–≥ 4: –¢–µ—Å—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —Ä—É–∫</h3>
                        <p class="test-instruction">–£–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∫—É—Ä—Å–æ—Ä –≤–Ω—É—Ç—Ä–∏ –¥–≤–∏–∂—É—â–µ–≥–æ—Å—è –∫—Ä—É–≥–∞ –∫–∞–∫ –º–æ–∂–Ω–æ –¥–æ–ª—å—à–µ.</p>
                        
                        <div class="test-area">
                            <div class="coordination-area" id="coordination-area">
                                <div id="coordination-target" class="moving-target"></div>
                            </div>
                            <div class="test-timer" id="coordination-timer">0.0 —Å–µ–∫</div>
                            <div class="test-results hidden" id="coordination-results">
                                <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏:</h4>
                                <div>–í—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è: <span id="coordination-time">0</span> —Å–µ–∫—É–Ω–¥</div>
                                <div>–¢–æ—á–Ω–æ—Å—Ç—å: <span id="coordination-accuracy">0</span>%</div>
                                <div class="score-display" id="coordination-score">0/10</div>
                            </div>
                            <button id="start-coordination" class="btn btn-primary" onclick="startCoordinationTest()">
                                <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
                            </button>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 5: –¢–µ—Å—Ç –ø–∞–º—è—Ç–∏ -->
                    <div id="test-step-5" class="test-step hidden">
                        <h3><i class="fas fa-brain"></i> –®–∞–≥ 5: –¢–µ—Å—Ç –ø–∞–º—è—Ç–∏ –∏ –≤–Ω–∏–º–∞–Ω–∏—è</h3>
                        <p class="test-instruction">–ó–∞–ø–æ–º–Ω–∏—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ü–≤–µ—Ç–æ–≤ –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –µ–µ –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ.</p>
                        
                        <div class="test-area">
                            <div class="sequence-grid" id="sequence-grid">
                                <div class="sequence-box" style="background: #ff6b6b;" onclick="checkSequenceAnswer(this, 1)">1</div>
                                <div class="sequence-box" style="background: #4ecdc4;" onclick="checkSequenceAnswer(this, 2)">2</div>
                                <div class="sequence-box" style="background: #ffd166;" onclick="checkSequenceAnswer(this, 3)">3</div>
                                <div class="sequence-box" style="background: #06d6a0;" onclick="checkSequenceAnswer(this, 4)">4</div>
                                <div class="sequence-box" style="background: #118ab2;" onclick="checkSequenceAnswer(this, 5)">5</div>
                                <div class="sequence-box" style="background: #9d4edd;" onclick="checkSequenceAnswer(this, 6)">6</div>
                            </div>
                            <div class="test-timer" id="sequence-timer">‚Äî</div>
                            <div class="test-results hidden" id="sequence-results">
                                <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –ø–∞–º—è—Ç–∏:</h4>
                                <div>–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π: <span id="sequence-correct">0</span>/5</div>
                                <div>–î–ª–∏–Ω–∞ –∑–∞–ø–æ–º–Ω–µ–Ω–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: <span id="sequence-length">0</span></div>
                                <div class="score-display" id="sequence-score">0/10</div>
                            </div>
                            <button id="start-sequence" class="btn btn-primary" onclick="startSequenceTest()">
                                <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
                            </button>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 6: –¢–µ—Å—Ç –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç–∏ (–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô) -->
                    <div id="test-step-6" class="test-step hidden">
                        <h3><i class="fas fa-tasks"></i> –®–∞–≥ 6: –¢–µ—Å—Ç –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç–∏</h3>
                        <p class="test-instruction">–ö–ª–∏–∫–∞–π—Ç–µ –ø–æ –ø–æ—è–≤–ª—è—é—â–∏–º—Å—è —Ü–µ–ª—è–º –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ. –£ –≤–∞—Å 30 —Å–µ–∫—É–Ω–¥.</p>
                        
                        <div class="game-container">
                            <div class="coordination-area" id="multi-task-area">
                                <!-- Multiple targets will be added here -->
                            </div>
                            <div style="display: flex; justify-content: space-between; margin: 20px 0;">
                                <div>–¶–µ–ª–µ–π –ø–æ–ø–∞–ª–æ: <span id="targets-hit">0</span></div>
                                <div>–í—Ä–µ–º—è: <span id="multi-task-timer">30</span> —Å–µ–∫</div>
                            </div>
                            <div class="test-results hidden" id="multi-task-results">
                                <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç–∏:</h4>
                                <div>–ü–æ–ø–∞–¥–∞–Ω–∏–π: <span id="multi-task-hit">0</span></div>
                                <div>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Ä–µ–∞–∫—Ü–∏–∏: <span id="multi-task-avg-time">0</span> –º—Å</div>
                                <div class="score-display" id="multi-task-score">0/10</div>
                            </div>
                            <button id="start-multi-task" class="btn btn-primary" onclick="startMultiTaskTest()">
                                <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
                            </button>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 7: –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è -->
                    <div id="test-step-7" class="test-step hidden">
                        <h3><i class="fas fa-heart"></i> –®–∞–≥ 7: –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</h3>
                        <p>–ö–∞–∫–∏–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞ –≤–∞–º –Ω—Ä–∞–≤—è—Ç—Å—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?</p>
                        
                        <div class="options-grid">
                            <div class="option-btn" onclick="toggleOption(this, 'football')">‚öΩ –§—É—Ç–±–æ–ª</div>
                            <div class="option-btn" onclick="toggleOption(this, 'basketball')">üèÄ –ë–∞—Å–∫–µ—Ç–±–æ–ª</div>
                            <div class="option-btn" onclick="toggleOption(this, 'volleyball')">üèê –í–æ–ª–µ–π–±–æ–ª</div>
                            <div class="option-btn" onclick="toggleOption(this, 'tennis')">üéæ –¢–µ–Ω–Ω–∏—Å</div>
                            <div class="option-btn" onclick="toggleOption(this, 'hockey')">üèí –•–æ–∫–∫–µ–π</div>
                            <div class="option-btn" onclick="toggleOption(this, 'swimming')">üèä –ü–ª–∞–≤–∞–Ω–∏–µ</div>
                            <div class="option-btn" onclick="toggleOption(this, 'athletics')">üèÉ –õ–µ–≥–∫–∞—è –∞—Ç–ª–µ—Ç–∏–∫–∞</div>
                            <div class="option-btn" onclick="toggleOption(this, 'martial')">ü•ã –ï–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤–∞</div>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 8: –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç -->
                    <div id="test-step-8" class="test-step hidden">
                        <h3><i class="fas fa-brain"></i> –®–∞–≥ 8: –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç</h3>
                        <p>–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ 8 –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –≤–∞—à–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –≤ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö</p>
                        
                        <div id="psych-test-container">
                            <!-- –í–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                        
                        <div id="psych-test-results" class="test-results hidden">
                            <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∞:</h4>
                            <div id="psych-scores"></div>
                        </div>
                    </div>

                    <!-- –®–∞–≥ 9: –¢–µ—Å—Ç –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π (–ù–û–í–´–ô) -->
                    <div id="test-step-9" class="test-step hidden">
                        <h3><i class="fas fa-chess"></i> –®–∞–≥ 9: –¢–µ—Å—Ç –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π</h3>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö (5 –≤–æ–ø—Ä–æ—Å–æ–≤)</p>
                        
                        <div class="decision-test-container" id="decision-test-container">
                            <!-- –í–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                        
                        <div id="decision-test-results" class="test-results hidden">
                            <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π:</h4>
                            <div id="decision-scores"></div>
                        </div>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevTestStep()" id="prev-btn">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                    <button class="btn btn-primary" onclick="nextTestStep()" id="next-btn">
                        <i class="fas fa-arrow-right"></i> –î–∞–ª–µ–µ
                    </button>
                </div>
            </div>

            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ -->
            <div id="page-results" class="page hidden">
                <div class="results-container">
                    <h2><i class="fas fa-trophy"></i> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞</h2>
                    
                    <div class="analysis-card">
                        <h3><i class="fas fa-user-circle"></i> –ü—Ä–æ—Ñ–∏–ª—å —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞</h3>
                        <div id="athlete-profile"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-chart-line"></i> –§–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã)</h3>
                        <div id="physical-stats"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-brain"></i> –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏</h3>
                        <div id="cognitive-stats"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-chess"></i> –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç</h3>
                        <div id="psychological-profile"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-medal"></i> –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞</h3>
                        <div id="sport-recommendations"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-bullseye"></i> –ò–¥–µ–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏</h3>
                        <div id="position-recommendations"></div>
                    </div>

                    <div class="analysis-card">
                        <h3><i class="fas fa-dumbbell"></i> –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é</h3>
                        <div id="development-plan"></div>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-primary" onclick="saveResults()">
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                    </button>
                    <button class="btn btn-warning" onclick="restartTest()">
                        <i class="fas fa-redo"></i> –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –∑–∞–Ω–æ–≤–æ
                    </button>
                    <button class="btn btn-secondary" onclick="backToWelcome()">
                        <i class="fas fa-home"></i> –ù–∞ –≥–ª–∞–≤–Ω—É—é
                    </button>
                </div>
            </div>

            <!-- –ú–∏–Ω–∏-–∏–≥—Ä—ã -->
            <div id="page-mini-games" class="page hidden">
                <div class="welcome-message">
                    <h2><i class="fas fa-gamepad"></i> –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –∏–≥—Ä—ã</h2>
                    <p>–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ —á–µ—Ä–µ–∑ –∏–≥—Ä—ã!</p>
                </div>

                <div class="sport-cards">
                    <div class="sport-card" onclick="startReactionGame()">
                        <i class="fas fa-bolt"></i>
                        <div class="sport-badge">‚ö°</div>
                        <h3>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Ä–µ–∞–∫—Ü–∏–∏</h3>
                        <p>–ö–ª–∏–∫–∞–π—Ç–µ –ø–æ –ø–æ—è–≤–ª—è—é—â–∏–º—Å—è —Ü–µ–ª—è–º</p>
                    </div>
                    
                    <div class="sport-card" onclick="startCoordinationGame()">
                        <i class="fas fa-crosshairs"></i>
                        <div class="sport-badge">üéØ</div>
                        <h3>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è</h3>
                        <p>–ü–æ–ø–∞–¥–∞–π—Ç–µ –≤ –¥–≤–∏–∂—É—â–∏–µ—Å—è —Ü–µ–ª–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="startMemoryGame()">
                        <i class="fas fa-brain"></i>
                        <div class="sport-badge">üß†</div>
                        <h3>–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å</h3>
                        <p>–ó–∞–ø–æ–º–∏–Ω–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</p>
                    </div>
                    
                    <div class="sport-card" onclick="startStrategyGame()">
                        <i class="fas fa-chess"></i>
                        <div class="sport-badge">‚ôüÔ∏è</div>
                        <h3>–¢–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ</h3>
                        <p>–†–µ—à–∞–π—Ç–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏</p>
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="backToWelcome()">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>

            <!-- –ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
            <div id="page-my-results" class="page hidden">
                <div class="results-container">
                    <h2><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –º–æ–∏—Ö —Ç–µ—Å—Ç–æ–≤</h2>
                    
                    <div id="results-history">
                        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="backToWelcome()">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                    <button class="btn btn-primary" onclick="startComprehensiveTest()">
                        <i class="fas fa-redo"></i> –ü—Ä–æ–π—Ç–∏ –Ω–æ–≤—ã–π —Ç–µ—Å—Ç
                    </button>
                </div>
            </div>

            <!-- –ê–Ω–∞–ª–∏–∑ –ø–æ –≤–∏–¥—É —Å–ø–æ—Ä—Ç–∞ -->
            <div id="page-sport-analysis" class="page hidden">
                <div class="results-container">
                    <h2 id="sport-analysis-title"><i class="fas fa-chart-pie"></i> –ê–Ω–∞–ª–∏–∑ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–ø–æ—Ä—Ç–∞</h2>
                    
                    <div id="sport-analysis-content">
                        <!-- –ê–Ω–∞–ª–∏–∑ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" onclick="backToWelcome()">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Sports Analyzer Pro ¬© 2024 | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</p>
            <p style="margin-top: 5px; font-size: 12px;">–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
        </div>
    </div>

    <script>
        // –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        const SPORTS_DATA = {
            football: {
                name: "‚öΩ –§—É—Ç–±–æ–ª",
                positions: [
                    { name: "–í—Ä–∞—Ç–∞—Ä—å", requirements: { reaction: 9, jump: 8, strength: 7, leadership: 8, coordination: 7, focus: 9 } },
                    { name: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∑–∞—â–∏—Ç–Ω–∏–∫", requirements: { strength: 9, heading: 8, positioning: 8, teamwork: 8, determination: 8 } },
                    { name: "–ö—Ä–∞–π–Ω–∏–π –∑–∞—â–∏—Ç–Ω–∏–∫", requirements: { speed: 8, stamina: 8, crossing: 7, coordination: 8, adaptability: 7 } },
                    { name: "–û–ø–æ—Ä–Ω—ã–π –ø–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫", requirements: { stamina: 9, tackling: 8, passing: 7, positioning: 8, discipline: 8 } },
                    { name: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫", requirements: { passing: 9, vision: 8, dribbling: 7, creativity: 8, intelligence: 8 } },
                    { name: "–ö—Ä–∞–π–Ω–∏–π –Ω–∞–ø–∞–¥–∞—é—â–∏–π", requirements: { speed: 9, dribbling: 8, finishing: 7, agility: 8, confidence: 8 } },
                    { name: "–ù–∞–ø–∞–¥–∞—é—â–∏–π", requirements: { finishing: 9, strength: 7, positioning: 8, reaction: 8, composure: 8 } }
                ]
            },
            basketball: {
                name: "üèÄ –ë–∞—Å–∫–µ—Ç–±–æ–ª",
                positions: [
                    { name: "–†–∞–∑—ã–≥—Ä—ã–≤–∞—é—â–∏–π", requirements: { passing: 9, vision: 8, dribbling: 8, reaction: 8, leadership: 8 } },
                    { name: "–ê—Ç–∞–∫—É—é—â–∏–π –∑–∞—â–∏—Ç–Ω–∏–∫", requirements: { shooting: 9, speed: 8, dribbling: 7, agility: 8, confidence: 8 } },
                    { name: "–õ–µ–≥–∫–∏–π —Ñ–æ—Ä–≤–∞—Ä–¥", requirements: { versatility: 8, shooting: 7, rebounding: 7, stamina: 8, adaptability: 8 } },
                    { name: "–¢—è–∂–µ–ª—ã–π —Ñ–æ—Ä–≤–∞—Ä–¥", requirements: { strength: 8, rebounding: 9, insideScoring: 8, positioning: 8, determination: 8 } },
                    { name: "–¶–µ–Ω—Ç—Ä–æ–≤–æ–π", requirements: { height: 9, rebounding: 9, blocking: 8, strength: 9, presence: 8 } }
                ]
            },
            volleyball: {
                name: "üèê –í–æ–ª–µ–π–±–æ–ª",
                positions: [
                    { name: "–õ–∏–±–µ—Ä–æ", requirements: { defense: 9, reaction: 8, passing: 8, agility: 9, focus: 8 } },
                    { name: "–°–≤—è–∑—É—é—â–∏–π", requirements: { passing: 9, vision: 8, leadership: 7, decision: 8, calmness: 8 } },
                    { name: "–î–æ–∏–≥—Ä–æ–≤—â–∏–∫", requirements: { attack: 8, versatility: 8, jumping: 7, coordination: 8, timing: 8 } },
                    { name: "–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π", requirements: { attack: 9, power: 8, jumping: 8, strength: 8, confidence: 8 } },
                    { name: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫–∏—Ä—É—é—â–∏–π", requirements: { blocking: 9, height: 8, quickness: 7, timing: 8, anticipation: 8 } }
                ]
            },
            tennis: {
                name: "üéæ –¢–µ–Ω–Ω–∏—Å",
                positions: [
                    { name: "–ê—Ç–∞–∫—É—é—â–∏–π –∏–≥—Ä–æ–∫", requirements: { reaction: 9, speed: 8, strength: 7, accuracy: 8, agility: 8 } },
                    { name: "–ó–∞—â–∏—Ç–Ω–∏–∫", requirements: { endurance: 9, reaction: 8, positioning: 8, consistency: 8, patience: 8 } },
                    { name: "–£–Ω–∏–≤–µ—Ä—Å–∞–ª", requirements: { versatility: 9, reaction: 8, speed: 7, accuracy: 8, tactical: 8 } },
                    { name: "–ü–æ–¥–∞—é—â–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç", requirements: { serve: 9, height: 7, power: 8, accuracy: 8, composure: 8 } }
                ]
            },
            hockey: {
                name: "üèí –•–æ–∫–∫–µ–π",
                positions: [
                    { name: "–í—Ä–∞—Ç–∞—Ä—å", requirements: { reaction: 9, flexibility: 8, positioning: 8, focus: 9, bravery: 8 } },
                    { name: "–ó–∞—â–∏—Ç–Ω–∏–∫", requirements: { strength: 8, skating: 8, passing: 7, shot: 6, positioning: 8 } },
                    { name: "–ù–∞–ø–∞–¥–∞—é—â–∏–π", requirements: { skating: 9, shot: 8, passing: 7, agility: 8, scoring: 8 } },
                    { name: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –Ω–∞–ø–∞–¥–∞—é—â–∏–π", requirements: { faceoffs: 8, skating: 8, passing: 8, vision: 8, leadership: 7 } }
                ]
            },
            swimming: {
                name: "üèä –ü–ª–∞–≤–∞–Ω–∏–µ",
                positions: [
                    { name: "–°–ø—Ä–∏–Ω—Ç–µ—Ä (–≤–æ–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)", requirements: { speed: 9, power: 8, reaction: 7, technique: 8, start: 8 } },
                    { name: "–°—Ç–∞–π–µ—Ä (–≤–æ–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)", requirements: { endurance: 9, technique: 8, pacing: 8, mental: 8, turns: 7 } },
                    { name: "–ë–∞—Ç—Ç–µ—Ä—Ñ–ª—è–π", requirements: { strength: 9, coordination: 8, endurance: 8, technique: 9, flexibility: 8 } },
                    { name: "–ù–∞ —Å–ø–∏–Ω–µ", requirements: { technique: 9, flexibility: 8, orientation: 8, start: 7, turns: 8 } },
                    { name: "–ë—Ä–∞—Å—Å", requirements: { technique: 9, timing: 8, strength: 7, flexibility: 8, coordination: 8 } },
                    { name: "–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ø–ª–∞–≤–∞–Ω–∏–µ", requirements: { versatility: 9, endurance: 8, technique: 8, transitions: 8, mental: 8 } }
                ]
            }
        };

        // –ü—Ä–æ–≥—Ä–∞–º–º—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –ø–∏—Ç–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–∞ —Å–ø–æ—Ä—Ç–∞
        const SPORT_TRAINING_PROGRAMS = {
            football: {
                training: [
                    "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –°–∏–ª–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (–Ω–æ–≥–∏, –ø—Ä–µ—Å—Å) - –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è, –≤—ã–ø–∞–¥—ã, —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è",
                    "–í—Ç–æ—Ä–Ω–∏–∫: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ —Å –º—è—á–æ–º - –¥—Ä–∏–±–ª–∏–Ω–≥, –ø–µ—Ä–µ–¥–∞—á–∏, —É–¥–∞—Ä—ã –ø–æ –≤–æ—Ä–æ—Ç–∞–º",
                    "–°—Ä–µ–¥–∞: –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–π –±–µ–≥ - 10x100 –º–µ—Ç—Ä–æ–≤ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é",
                    "–ß–µ—Ç–≤–µ—Ä–≥: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ - —Ä–æ–∑—ã–≥—Ä—ã—à–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤, –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∞—è –∏–≥—Ä–∞",
                    "–ü—è—Ç–Ω–∏—Ü–∞: –°–∏–ª–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (–≤–µ—Ä—Ö —Ç–µ–ª–∞) + –∫–∞—Ä–¥–∏–æ 30 –º–∏–Ω—É—Ç",
                    "–°—É–±–±–æ—Ç–∞: –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –º–∞—Ç—á –∏–ª–∏ –∏–≥—Ä–æ–≤—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è",
                    "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ - —Ä–∞—Å—Ç—è–∂–∫–∞, –ª–µ–≥–∫–∏–π –±–µ–≥, –º–∞—Å—Å–∞–∂"
                ],
                nutrition: [
                    "–ó–∞–≤—Ç—Ä–∞–∫: –û–≤—Å—è–Ω–∫–∞ —Å —è–≥–æ–¥–∞–º–∏, –æ–º–ª–µ—Ç –∏–∑ 3 —è–∏—Ü, —Ç–æ—Å—Ç —Å –∞–≤–æ–∫–∞–¥–æ",
                    "–û–±–µ–¥: –ì—Ä–µ—á–∫–∞/—Ä–∏—Å —Å –∫—É—Ä–∏–Ω–æ–π –≥—Ä—É–¥–∫–æ–π –∏–ª–∏ —Ä—ã–±–æ–π, —Å–∞–ª–∞—Ç –∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π",
                    "–£–∂–∏–Ω: –¢–≤–æ—Ä–æ–≥ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏, –∫–µ—Ñ–∏—Ä –∏–ª–∏ –ø—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–π –∫–æ–∫—Ç–µ–π–ª—å",
                    "–ü–µ—Ä–µ–∫—É—Å—ã: –û—Ä–µ—Ö–∏, –±–∞–Ω–∞–Ω—ã, –ø—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–µ –±–∞—Ç–æ–Ω—á–∏–∫–∏",
                    "–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –£–≥–ª–µ–≤–æ–¥–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞ 3 —á–∞—Å–∞ –¥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –±–µ–ª–∫–æ–≤–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ"
                ]
            },
            basketball: {
                training: [
                    "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –°–∏–ª–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ - –∂–∏–º –ª–µ–∂–∞, –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è, —Å—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞",
                    "–í—Ç–æ—Ä–Ω–∏–∫: –†–∞–±–æ—Ç–∞ –Ω–∞–¥ –±—Ä–æ—Å–∫–∞–º–∏ - 300 –±—Ä–æ—Å–∫–æ–≤ —Å —Ä–∞–∑–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π",
                    "–°—Ä–µ–¥–∞: –ü–ª–∏–æ–º–µ—Ç—Ä–∏–∫–∞ - –ø—Ä—ã–∂–∫–æ–≤—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é",
                    "–ß–µ—Ç–≤–µ—Ä–≥: –ò–≥—Ä–æ–≤–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ 3x3, 5x5, —Ä–∞–±–æ—Ç–∞ –≤ –ø–∞—Ä–∞—Ö",
                    "–ü—è—Ç–Ω–∏—Ü–∞: –ö–∞—Ä–¥–∏–æ + —Å–∏–ª–æ–≤–∞—è - –±–µ–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–∫–∞, –≤–µ–ª–æ—Ç—Ä–µ–Ω–∞–∂–µ—Ä, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å –≤–µ—Å–æ–º",
                    "–°—É–±–±–æ—Ç–∞: –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞ –∏–ª–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏",
                    "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ - –±–∞—Å—Å–µ–π–Ω, —Ä–∞—Å—Ç—è–∂–∫–∞, –º–∞—Å—Å–∞–∂"
                ],
                nutrition: [
                    "–ó–∞–≤—Ç—Ä–∞–∫: –Ø–∏—á–Ω–∏—Ü–∞ —Å –æ–≤–æ—â–∞–º–∏, —Ü–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–æ–π —Ö–ª–µ–±, —Ñ—Ä—É–∫—Ç—ã",
                    "–û–±–µ–¥: –ö–æ—Ä–∏—á–Ω–µ–≤—ã–π —Ä–∏—Å —Å –∏–Ω–¥–µ–π–∫–æ–π, —Ç—É—à–µ–Ω—ã–µ –æ–≤–æ—â–∏, —Å–∞–ª–∞—Ç",
                    "–£–∂–∏–Ω: –†—ã–±–∞ –Ω–∞ –ø–∞—Ä—É —Å –±—Ä–æ–∫–∫–æ–ª–∏, –∫–∏–Ω–æ–∞ –∏–ª–∏ –±–∞—Ç–∞—Ç",
                    "–ü–µ—Ä–µ–∫—É—Å—ã: –ü—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–µ –∫–æ–∫—Ç–µ–π–ª–∏, –π–æ–≥—É—Ä—Ç, –æ—Ä–µ—Ö–∏",
                    "–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –ë–µ–ª–æ–∫ 2–≥ –Ω–∞ –∫–≥ –≤–µ—Å–∞, –º–Ω–æ–≥–æ –∂–∏–¥–∫–æ—Å—Ç–∏"
                ]
            },
            volleyball: {
                training: [
                    "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –ü–ª–∏–æ–º–µ—Ç—Ä–∏–∫–∞ - –ø—Ä—ã–∂–∫–∏ –Ω–∞ —Ç—É–º–±—É, –≤—ã–ø—Ä—ã–≥–∏–≤–∞–Ω–∏—è, —Å–∫–∞–∫–∞–ª–∫–∞",
                    "–í—Ç–æ—Ä–Ω–∏–∫: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ - –ø–æ–¥–∞—á–∏, –ø—Ä–∏–µ–º, –ø–∞—Å, –∞—Ç–∞–∫–∞",
                    "–°—Ä–µ–¥–∞: –°–∏–ª–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ - –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è, –∂–∏–º –Ω–æ–≥–∞–º–∏, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –∫–æ—Ä",
                    "–ß–µ—Ç–≤–µ—Ä–≥: –ò–≥—Ä–æ–≤–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ - —Ä–∞–±–æ—Ç–∞ —É —Å–µ—Ç–∫–∏, –±–ª–æ–∫, –∑–∞—â–∏—Ç–∞",
                    "–ü—è—Ç–Ω–∏—Ü–∞: –ö–∞—Ä–¥–∏–æ + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è - –ª–µ—Å—Ç–Ω–∏—Ü–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏, –±–µ–≥ —Å —É—Å–∫–æ—Ä–µ–Ω–∏—è–º–∏",
                    "–°—É–±–±–æ—Ç–∞: –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞ –∏–ª–∏ –∏–≥—Ä–æ–≤—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è",
                    "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ - —Ä–∞—Å—Ç—è–∂–∫–∞, –π–æ–≥–∞, –º–∞—Å—Å–∞–∂"
                ],
                nutrition: [
                    "–ó–∞–≤—Ç—Ä–∞–∫: –û–≤—Å—è–Ω–∫–∞ —Å –ø—Ä–æ—Ç–µ–∏–Ω–æ–º, —Ñ—Ä—É–∫—Ç—ã, –æ—Ä–µ—Ö–∏",
                    "–û–±–µ–¥: –ü–∞—Å—Ç–∞ —Å –∫—É—Ä–∏—Ü–µ–π –∏ –æ–≤–æ—â–∞–º–∏, —Å–∞–ª–∞—Ç —Å –æ–ª–∏–≤–∫–æ–≤—ã–º –º–∞—Å–ª–æ–º",
                    "–£–∂–∏–Ω: –¢–≤–æ—Ä–æ–≥ 5%, —è–π—Ü–∞, –æ–≤–æ—â–∏ –Ω–∞ –≥—Ä–∏–ª–µ",
                    "–ü–µ—Ä–µ–∫—É—Å—ã: –ü—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–µ –±–∞—Ç–æ–Ω—á–∏–∫–∏, —Ñ—Ä—É–∫—Ç—ã, –π–æ–≥—É—Ä—Ç",
                    "–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –ö–∞–ª—å—Ü–∏–π –¥–ª—è –∫–æ—Å—Ç–µ–π, –±–µ–ª–æ–∫ –¥–ª—è –º—ã—à—Ü"
                ]
            },
            tennis: {
                training: [
                    "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ - —É–¥–∞—Ä—ã —Å–ª–µ–≤–∞, —Å–ø—Ä–∞–≤–∞, –ø–æ–¥–∞—á–∞",
                    "–í—Ç–æ—Ä–Ω–∏–∫: –ö–∞—Ä–¥–∏–æ + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è - –±–µ–≥, –ª–µ—Å—Ç–Ω–∏—Ü–∞, —Ä–∞–±–æ—Ç–∞ –Ω–æ–≥",
                    "–°—Ä–µ–¥–∞: –°–∏–ª–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ - —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –Ω–æ–≥–∏ –∏ –∫–æ—Ä–ø—É—Å",
                    "–ß–µ—Ç–≤–µ—Ä–≥: –ò–≥—Ä–æ–≤–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ - —Ä–æ–∑—ã–≥—Ä—ã—à–∏ –æ—á–∫–æ–≤, —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ö–µ–º—ã",
                    "–ü—è—Ç–Ω–∏—Ü–∞: –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ - –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–ø—Ä–∏–Ω—Ç—ã, —Ä–∞–±–æ—Ç–∞ –Ω–∞ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å",
                    "–°—É–±–±–æ—Ç–∞: –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –º–∞—Ç—á–∏ –∏–ª–∏ —Ä–∞–±–æ—Ç–∞ —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º",
                    "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ - —Ä–∞—Å—Ç—è–∂–∫–∞, –ª–µ–≥–∫–∏–π –±–µ–≥"
                ],
                nutrition: [
                    "–ó–∞–≤—Ç—Ä–∞–∫: –ë–∞–Ω–∞–Ω–æ–≤—ã–µ –±–ª–∏–Ω—á–∏–∫–∏ —Å –æ—Ä–µ—Ö–∞–º–∏, —è–π—Ü–∞",
                    "–û–±–µ–¥: –ö–≤–∏–Ω–æ–∞ —Å –∫—É—Ä–∏—Ü–µ–π –∏ –æ–≤–æ—â–∞–º–∏, —Å–∞–ª–∞—Ç",
                    "–£–∂–∏–Ω: –õ–æ—Å–æ—Å—å –Ω–∞ –≥—Ä–∏–ª–µ —Å –æ–≤–æ—â–∞–º–∏, —Å–ª–∞–¥–∫–∏–π –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å",
                    "–ü–µ—Ä–µ–∫—É—Å—ã: –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–µ –≥–µ–ª–∏, –±–∞–Ω–∞–Ω—ã, –æ—Ä–µ—Ö–∏",
                    "–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –ë—ã—Å—Ç—Ä—ã–µ —É–≥–ª–µ–≤–æ–¥—ã –≤–æ –≤—Ä–µ–º—è –º–∞—Ç—á–µ–π"
                ]
            }
        };

        // –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç - –≤–æ–ø—Ä–æ—Å—ã –∏ –±–∞–ª–ª—ã
        const PSYCH_QUESTIONS = [
            {
                question: "–ö–∞–∫ –≤—ã –æ–±—ã—á–Ω–æ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç–µ –Ω–∞ –∫—Ä–∏—Ç–∏–∫—É —Ç—Ä–µ–Ω–µ—Ä–∞?",
                options: [
                    { text: "–ü—Ä–∏–Ω–∏–º–∞—é –±–ª–∏–∑–∫–æ –∫ —Å–µ—Ä–¥—Ü—É, –º–æ–≥—É —Ä–∞—Å—Å—Ç—Ä–æ–∏—Ç—å—Å—è", scores: { resilience: 2, confidence: 3 } },
                    { text: "–°–ª—É—à–∞—é, –Ω–æ —á–∞—Å—Ç–æ —Å–ø–æ—Ä—é –∏ –∑–∞—â–∏—â–∞—é—Å—å", scores: { resilience: 4, confidence: 6 } },
                    { text: "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∏ —Å—Ç–∞—Ä–∞—é—Å—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏", scores: { resilience: 8, confidence: 7 } },
                    { text: "–í–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é –∫–∞–∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —Ä–æ—Å—Ç–∞", scores: { resilience: 10, confidence: 9 } }
                ]
            },
            {
                question: "–í–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç –≤ —Ä–µ—à–∞—é—â–µ–º –º–∞—Ç—á–µ. –í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è?",
                options: [
                    { text: "–ü–∞–¥–∞—é –¥—É—Ö–æ–º, –º–æ—Ç–∏–≤–∞—Ü–∏—è —Å–Ω–∏–∂–∞–µ—Ç—Å—è", scores: { resilience: 3, determination: 4 } },
                    { text: "–ü—ã—Ç–∞—é—Å—å –≤–∑—è—Ç—å –∏–≥—Ä—É –Ω–∞ —Å–µ–±—è, –Ω–æ —á–∞—Å—Ç–æ –æ—à–∏–±–∞—é—Å—å", scores: { resilience: 5, determination: 6, leadership: 7 } },
                    { text: "–ü–æ–¥–±–∞–¥—Ä–∏–≤–∞—é –∫–æ–º–∞–Ω–¥—É, –ø—ã—Ç–∞—é—Å—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∏–≥—Ä—É", scores: { resilience: 7, determination: 8, leadership: 8 } },
                    { text: "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—é –Ω–æ–≤—ã–µ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è", scores: { resilience: 9, determination: 9, leadership: 9 } }
                ]
            }
        ];

        // –¢–µ—Å—Ç –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π (–ù–û–í–´–ô)
        const DECISION_QUESTIONS = [
            {
                question: "–§—É—Ç–±–æ–ª: –ó–∞ 5 –º–∏–Ω—É—Ç –¥–æ –∫–æ–Ω—Ü–∞ –º–∞—Ç—á–∞ –≤–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –≤–µ–¥–µ—Ç 1:0. –í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è?",
                options: [
                    { text: "–ê—Ç–∞–∫–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã –∑–∞–∫—Ä–µ–ø–∏—Ç—å –ø–æ–±–µ–¥—É", score: 4 },
                    { text: "–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –º—è—á –∏ —Ç—è–Ω—É—Ç—å –≤—Ä–µ–º—è", score: 9 },
                    { text: "–£–π—Ç–∏ –≤ –≥–ª—É—Ö—É—é –æ–±–æ—Ä–æ–Ω—É", score: 6 },
                    { text: "–°–¥–µ–ª–∞—Ç—å –∑–∞–º–µ–Ω—ã –¥–ª—è —Å–≤–µ–∂–∏—Ö —Å–∏–ª –≤ –æ–±–æ—Ä–æ–Ω–µ", score: 8 }
                ]
            },
            {
                question: "–ë–∞—Å–∫–µ—Ç–±–æ–ª: –û—Å—Ç–∞–ª–æ—Å—å 10 —Å–µ–∫—É–Ω–¥, –≤—ã –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç–µ 2 –æ—á–∫–∞. –£ –≤–∞—Å –º—è—á. –í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è?",
                options: [
                    { text: "–ü—Ä–æ—Ä—ã–≤–∞—Ç—å—Å—è –ø–æ–¥ –∫–æ–ª—å—Ü–æ –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –±—Ä–æ—Å–∫–∞", score: 8 },
                    { text: "–û—Ç–¥–∞—Ç—å –ø–∞—Å —Å–∞–º–æ–º—É —Ç–æ—á–Ω–æ–º—É —Å–Ω–∞–π–ø–µ—Ä—É", score: 7 },
                    { text: "–ë—Ä–æ—Å–∞—Ç—å —Ç—Ä–µ—Ö–æ—á–∫–æ–≤—ã–π –Ω–∞ –ø–æ–±–µ–¥—É", score: 5 },
                    { text: "–ò—Å–∫–∞—Ç—å —Ñ–æ–ª –≤ –∞—Ç–∞–∫–µ", score: 6 }
                ]
            },
            {
                question: "–í–æ–ª–µ–π–±–æ–ª: –°–æ–ø–µ—Ä–Ω–∏–∫ —Å–∏–ª—å–Ω–µ–µ –≤ –∞—Ç–∞–∫–µ, –Ω–æ —Å–ª–∞–±–µ–µ –≤ –∑–∞—â–∏—Ç–µ. –í–∞—à–∞ —Ç–∞–∫—Ç–∏–∫–∞?",
                options: [
                    { text: "–ò–≥—Ä–∞—Ç—å –≤ —Å–≤–æ—é —Å–∏–ª—å–Ω—É—é –∞—Ç–∞–∫—É", score: 4 },
                    { text: "–£—Å–∏–ª–∏—Ç—å –∑–∞—â–∏—Ç—É –∏ –∫–æ–Ω—Ç—Ä–∞—Ç–∞–∫–æ–≤–∞—Ç—å", score: 9 },
                    { text: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–æ–¥–∞—á", score: 7 },
                    { text: "–ß–∞—Å—Ç–æ –º–µ–Ω—è—Ç—å —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫—É", score: 6 }
                ]
            },
            {
                question: "–¢–µ–Ω–Ω–∏—Å: –°–æ–ø–µ—Ä–Ω–∏–∫ —Å–ª–∞–±–µ–µ –Ω–∞ –∑–∞–¥–Ω–µ–π –ª–∏–Ω–∏–∏, –Ω–æ —Å–∏–ª–µ–Ω —É —Å–µ—Ç–∫–∏. –í–∞—à–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è?",
                options: [
                    { text: "–ò–≥—Ä–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–µ —É–¥–∞—Ä—ã –ø–æ –ª–∏–Ω–∏—è–º", score: 9 },
                    { text: "–ß–∞—Å—Ç–æ –≤—ã—Ö–æ–¥–∏—Ç—å –∫ —Å–µ—Ç–∫–µ", score: 4 },
                    { text: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–µ—á–∏ (–ª–æ–±)", score: 8 },
                    { text: "–ò–≥—Ä–∞—Ç—å –≤ –µ–≥–æ —Å–∏–ª—É - —É–∫–æ—Ä–æ—á–µ–Ω–Ω—ã–µ", score: 5 }
                ]
            },
            {
                question: "–•–æ–∫–∫–µ–π: –í–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –≤ –º–µ–Ω—å—à–∏–Ω—Å—Ç–≤–µ 2 –º–∏–Ω—É—Ç—ã. –ö–∞–∫ –∏–≥—Ä–∞—Ç—å?",
                options: [
                    { text: "–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –ø—Ä–µ—Å—Å–∏–Ω–≥–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–µ–µ –æ—Ç–æ–±—Ä–∞—Ç—å —à–∞–π–±—É", score: 3 },
                    { text: "–ó–∞–∫—Ä—ã—Ç—å—Å—è –≤ –æ–±–æ—Ä–æ–Ω–µ –∏ –≤—ã–±–∏–≤–∞—Ç—å —à–∞–π–±—É", score: 8 },
                    { text: "–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —à–∞–π–±—É –≤ —Å–≤–æ–µ–π –∑–æ–Ω–µ", score: 7 },
                    { text: "–ò—Å–∫–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Ç–∞–∫–∏", score: 6 }
                ]
            }
        ];

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        let currentState = {
            currentStep: 1,
            totalSteps: 9,
            testData: {
                personal: {},
                testResults: {
                    visualReaction: { times: [], average: 0, score: 0 },
                    soundReaction: { times: [], average: 0, score: 0 },
                    coordination: { time: 0, accuracy: 0, score: 0 },
                    sequence: { correct: 0, length: 0, score: 0 },
                    multiTask: { hits: 0, avgTime: 0, score: 0 },
                    decision: { answers: [], score: 0 }
                },
                psychResults: {
                    resilience: 0,
                    confidence: 0,
                    determination: 0,
                    composure: 0,
                    focus: 0,
                    leadership: 0,
                    teamwork: 0,
                    discipline: 0,
                    motivation: 0,
                    decision: 0
                },
                preferences: []
            },
            testHistory: []
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function initApp() {
            loadFromStorage();
            updateUserDisplay();
            
            const savedResults = localStorage.getItem('sportsAnalyzerResults');
            if (!savedResults) {
                document.getElementById('initial-test-alert').classList.remove('hidden');
            } else {
                document.getElementById('initial-test-alert').classList.add('hidden');
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∞
            initPsychTest();
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
            initDecisionTest();
        }

        function initPsychTest() {
            const container = document.getElementById('psych-test-container');
            container.innerHTML = '';
            
            PSYCH_QUESTIONS.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'psych-question';
                questionDiv.id = `psych-question-${index}`;
                questionDiv.style.display = index === 0 ? 'block' : 'none';
                
                let html = `<h4>–í–æ–ø—Ä–æ—Å ${index + 1}: ${q.question}</h4><div class="psych-options">`;
                
                q.options.forEach((option, optIndex) => {
                    html += `
                        <div class="psych-option" onclick="selectPsychOption(${index}, ${optIndex})">
                            ${option.text}
                            <span class="score">${optIndex + 1}</span>
                        </div>
                    `;
                });
                
                html += '</div>';
                questionDiv.innerHTML = html;
                container.appendChild(questionDiv);
            });
        }

        function initDecisionTest() {
            const container = document.getElementById('decision-test-container');
            container.innerHTML = '';
            
            DECISION_QUESTIONS.forEach((q, index) => {
                const scenarioDiv = document.createElement('div');
                scenarioDiv.className = 'scenario-card';
                scenarioDiv.id = `decision-question-${index}`;
                scenarioDiv.style.display = index === 0 ? 'block' : 'none';
                
                let html = `<h4>–°–∏—Ç—É–∞—Ü–∏—è ${index + 1}: ${q.question}</h4><div class="scenario-options">`;
                
                q.options.forEach((option, optIndex) => {
                    html += `
                        <div class="scenario-option" onclick="selectDecisionOption(${index}, ${optIndex})">
                            ${option.text}
                        </div>
                    `;
                });
                
                html += '</div>';
                scenarioDiv.innerHTML = html;
                container.appendChild(scenarioDiv);
            });
        }

        function loadFromStorage() {
            const savedData = localStorage.getItem('sportsAnalyzerData');
            if (savedData) {
                const data = JSON.parse(savedData);
                currentState.testHistory = data.testHistory || [];
                
                if (data.lastTest) {
                    document.getElementById('user-score').textContent = 
                        `${data.lastTest.overallScore || 0}/100`;
                }
            }
        }

        function updateUserDisplay() {
            const name = localStorage.getItem('userName') || '–ê–Ω–∞–ª–∏—Ç–∏–∫';
            document.getElementById('user-name').textContent = name;
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            document.getElementById(pageId).classList.remove('hidden');
        }

        function backToWelcome() {
            showPage('page-welcome');
        }

        function showSportsSelection() {
            showPage('page-sports');
        }

        function showMiniGames() {
            showPage('page-mini-games');
        }

        function showMyResults() {
            showPage('page-my-results');
            displayTestHistory();
        }

        // –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç
        function startComprehensiveTest() {
            currentState.currentStep = 1;
            currentState.testData = {
                personal: {},
                testResults: {
                    visualReaction: { times: [], average: 0, score: 0 },
                    soundReaction: { times: [], average: 0, score: 0 },
                    coordination: { time: 0, accuracy: 0, score: 0 },
                    sequence: { correct: 0, length: 0, score: 0 },
                    multiTask: { hits: 0, avgTime: 0, score: 0 },
                    decision: { answers: [], score: 0 }
                },
                psychResults: {
                    resilience: 0,
                    confidence: 0,
                    determination: 0,
                    composure: 0,
                    focus: 0,
                    leadership: 0,
                    teamwork: 0,
                    discipline: 0,
                    motivation: 0,
                    decision: 0
                },
                preferences: []
            };
            
            // –°–±—Ä–æ—Å —Ç–µ—Å—Ç–æ–≤
            initPsychTest();
            initDecisionTest();
            
            updateTestProgress();
            showPage('page-comprehensive-test');
            showTestStep(1);
        }

        function showTestStep(step) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —à–∞–≥–∏
            for (let i = 1; i <= 9; i++) {
                const stepEl = document.getElementById(`test-step-${i}`);
                if (stepEl) stepEl.classList.add('hidden');
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π —à–∞–≥
            document.getElementById(`test-step-${step}`).classList.remove('hidden');
            
            // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
            updateTestProgress();
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.getElementById('prev-btn').style.display = step > 1 ? 'flex' : 'none';
            
            if (step === 9) {
                document.getElementById('next-btn').innerHTML = '<i class="fas fa-check"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç';
                document.getElementById('next-btn').onclick = finishTest;
            } else {
                document.getElementById('next-btn').innerHTML = '<i class="fas fa-arrow-right"></i> –î–∞–ª–µ–µ';
                document.getElementById('next-btn').onclick = nextTestStep;
            }
            
            // –î–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
            if (step === 8) {
                showPsychQuestion(0);
            }
            
            // –î–ª—è —Ç–µ—Å—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
            if (step === 9) {
                showDecisionQuestion(0);
            }
        }

        function updateTestProgress() {
            const progress = `–®–∞–≥ ${currentState.currentStep} –∏–∑ ${currentState.totalSteps}`;
            document.getElementById('test-progress').textContent = progress;
        }

        function nextTestStep() {
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
            saveCurrentStepData();
            
            if (currentState.currentStep < currentState.totalSteps) {
                currentState.currentStep++;
                showTestStep(currentState.currentStep);
            }
        }

        function prevTestStep() {
            if (currentState.currentStep > 1) {
                currentState.currentStep--;
                showTestStep(currentState.currentStep);
            }
        }

        function saveCurrentStepData() {
            switch(currentState.currentStep) {
                case 1:
                    currentState.testData.personal = {
                        name: document.getElementById('user-name-input').value,
                        age: parseInt(document.getElementById('user-age').value) || 0,
                        height: parseInt(document.getElementById('user-height').value) || 0,
                        weight: parseInt(document.getElementById('user-weight').value) || 0
                    };
                    break;
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∞
        function toggleOption(button, value) {
            button.classList.toggle('selected');
            
            if (button.classList.contains('selected')) {
                if (!currentState.testData.preferences.includes(value)) {
                    currentState.testData.preferences.push(value);
                }
            } else {
                const index = currentState.testData.preferences.indexOf(value);
                if (index > -1) {
                    currentState.testData.preferences.splice(index, 1);
                }
            }
        }

        // –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç
        let currentPsychQuestion = 0;
        let psychAnswers = [];

        function showPsychQuestion(index) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã
            document.querySelectorAll('.psych-question').forEach(q => {
                q.style.display = 'none';
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π –≤–æ–ø—Ä–æ—Å
            const questionEl = document.getElementById(`psych-question-${index}`);
            if (questionEl) {
                questionEl.style.display = 'block';
                
                // –°–±—Ä–æ—Å–∏—Ç—å –≤—ã–±–æ—Ä –≤ —Ç–µ–∫—É—â–µ–º –≤–æ–ø—Ä–æ—Å–µ
                questionEl.querySelectorAll('.psych-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
                if (psychAnswers[index] !== undefined) {
                    const option = questionEl.querySelectorAll('.psych-option')[psychAnswers[index]];
                    if (option) option.classList.add('selected');
                }
            }
            
            currentPsychQuestion = index;
        }

        function selectPsychOption(questionIndex, optionIndex) {
            // –°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤ —ç—Ç–æ–º –≤–æ–ø—Ä–æ—Å–µ
            const questionEl = document.getElementById(`psych-question-${questionIndex}`);
            questionEl.querySelectorAll('.psych-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // –í—ã–¥–µ–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
            const selectedOption = questionEl.querySelectorAll('.psych-option')[optionIndex];
            selectedOption.classList.add('selected');
            
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç
            psychAnswers[questionIndex] = optionIndex;
            
            // –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã, –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            const answeredQuestions = psychAnswers.filter(a => a !== undefined).length;
            if (answeredQuestions === PSYCH_QUESTIONS.length) {
                calculatePsychResults();
            }
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É —á–µ—Ä–µ–∑ 0.5 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (questionIndex < PSYCH_QUESTIONS.length - 1) {
                    showPsychQuestion(questionIndex + 1);
                }
            }, 500);
        }

        function calculatePsychResults() {
            // –°–±—Ä–æ—Å–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            for (const key in currentState.testData.psychResults) {
                currentState.testData.psychResults[key] = 0;
            }
            
            // –°–æ–±—Ä–∞—Ç—å –±–∞–ª–ª—ã
            let totalAnswers = 0;
            psychAnswers.forEach((answerIndex, questionIndex) => {
                if (answerIndex !== undefined) {
                    const question = PSYCH_QUESTIONS[questionIndex];
                    const option = question.options[answerIndex];
                    
                    // –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã –ø–æ –∫–∞–∂–¥–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–µ
                    for (const [trait, score] of Object.entries(option.scores)) {
                        if (currentState.testData.psychResults.hasOwnProperty(trait)) {
                            currentState.testData.psychResults[trait] += score;
                        }
                    }
                    totalAnswers++;
                }
            });
            
            // –£—Å—Ä–µ–¥–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            if (totalAnswers > 0) {
                for (const key in currentState.testData.psychResults) {
                    currentState.testData.psychResults[key] = Math.round(currentState.testData.psychResults[key] / totalAnswers);
                }
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            showPsychResults();
        }

        function showPsychResults() {
            const resultsDiv = document.getElementById('psych-test-results');
            const scoresDiv = document.getElementById('psych-scores');
            
            let html = '<div class="stats-grid">';
            
            const traits = {
                resilience: '–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å',
                confidence: '–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å',
                determination: '–†–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
                composure: '–°–∞–º–æ–æ–±–ª–∞–¥–∞–Ω–∏–µ',
                focus: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è',
                leadership: '–õ–∏–¥–µ—Ä—Å—Ç–≤–æ',
                teamwork: '–ö–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å',
                discipline: '–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞',
                motivation: '–ú–æ—Ç–∏–≤–∞—Ü–∏—è',
                decision: '–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π'
            };
            
            for (const [trait, name] of Object.entries(traits)) {
                const score = currentState.testData.psychResults[trait] || 0;
                html += `
                    <div class="stat-card">
                        <h4>${name}</h4>
                        <div class="score-display">${score}/10</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${score * 10}%"></div>
                        </div>
                    </div>
                `;
            }
            
            html += '</div>';
            scoresDiv.innerHTML = html;
            resultsDiv.classList.remove('hidden');
        }

        // –¢–µ—Å—Ç –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
        let currentDecisionQuestion = 0;
        let decisionAnswers = [];

        function showDecisionQuestion(index) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã
            document.querySelectorAll('.scenario-card').forEach(q => {
                q.style.display = 'none';
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π –≤–æ–ø—Ä–æ—Å
            const questionEl = document.getElementById(`decision-question-${index}`);
            if (questionEl) {
                questionEl.style.display = 'block';
                
                // –°–±—Ä–æ—Å–∏—Ç—å –≤—ã–±–æ—Ä –≤ —Ç–µ–∫—É—â–µ–º –≤–æ–ø—Ä–æ—Å–µ
                questionEl.querySelectorAll('.scenario-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
                if (decisionAnswers[index] !== undefined) {
                    const option = questionEl.querySelectorAll('.scenario-option')[decisionAnswers[index]];
                    if (option) option.classList.add('selected');
                }
            }
            
            currentDecisionQuestion = index;
        }

        function selectDecisionOption(questionIndex, optionIndex) {
            // –°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤ —ç—Ç–æ–º –≤–æ–ø—Ä–æ—Å–µ
            const questionEl = document.getElementById(`decision-question-${questionIndex}`);
            questionEl.querySelectorAll('.scenario-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // –í—ã–¥–µ–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
            const selectedOption = questionEl.querySelectorAll('.scenario-option')[optionIndex];
            selectedOption.classList.add('selected');
            
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç
            decisionAnswers[questionIndex] = optionIndex;
            
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∞–ª–ª
            const question = DECISION_QUESTIONS[questionIndex];
            const score = question.options[optionIndex].score;
            currentState.testData.testResults.decision.answers.push(score);
            
            // –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã, –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            const answeredQuestions = decisionAnswers.filter(a => a !== undefined).length;
            if (answeredQuestions === DECISION_QUESTIONS.length) {
                calculateDecisionResults();
            }
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É —á–µ—Ä–µ–∑ 0.5 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (questionIndex < DECISION_QUESTIONS.length - 1) {
                    showDecisionQuestion(questionIndex + 1);
                }
            }, 500);
        }

        function calculateDecisionResults() {
            const answers = currentState.testData.testResults.decision.answers;
            if (answers.length > 0) {
                const avgScore = answers.reduce((a, b) => a + b, 0) / answers.length;
                currentState.testData.testResults.decision.score = Math.round(avgScore * 10) / 10;
                
                // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                showDecisionResults();
            }
        }

        function showDecisionResults() {
            const resultsDiv = document.getElementById('decision-test-results');
            const scoresDiv = document.getElementById('decision-scores');
            
            let html = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>–û–±—â–∏–π –±–∞–ª–ª</h4>
                        <div class="score-display">${currentState.testData.testResults.decision.score}/10</div>
                        <div class="score-label">${getDecisionLevel(currentState.testData.testResults.decision.score)}</div>
                    </div>
                    <div class="stat-card">
                        <h4>–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π</h4>
                        <div class="score-display">${currentState.testData.testResults.decision.answers.filter(s => s >= 7).length}/${DECISION_QUESTIONS.length}</div>
                        <div class="score-label">–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä</div>
                    </div>
                </div>
            `;
            
            scoresDiv.innerHTML = html;
            resultsDiv.classList.remove('hidden');
        }

        function getDecisionLevel(score) {
            if (score >= 8) return '–û—Ç–ª–∏—á–Ω–æ–µ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ';
            if (score >= 6) return '–•–æ—Ä–æ—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏–≥—Ä—ã';
            if (score >= 4) return '–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å';
            return '–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ —Ç–∞–∫—Ç–∏–∫–æ–π';
        }

        // –¢–ï–°–¢ 1: –ó—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è
        let visualReactionTest = {
            startTime: null,
            times: [],
            testCount: 0,
            maxTests: 5,
            timeoutId: null,
            isRunning: false
        };

        function startVisualReactionTest() {
            if (visualReactionTest.isRunning) return;
            
            visualReactionTest.isRunning = true;
            visualReactionTest.times = [];
            visualReactionTest.testCount = 0;
            
            document.getElementById('start-visual-reaction').classList.add('hidden');
            document.getElementById('visual-reaction-results').classList.add('hidden');
            document.getElementById('visual-reaction-target').classList.remove('disabled');
            document.getElementById('visual-reaction-timer').textContent = "–ñ–¥–∏—Ç–µ...";
            
            // –ü–µ—Ä–≤—ã–π —Ä–∞—É–Ω–¥ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(startVisualReactionRound, 2000);
        }

        function startVisualReactionRound() {
            if (visualReactionTest.testCount >= visualReactionTest.maxTests) {
                finishVisualReactionTest();
                return;
            }
            
            // –°–∫—Ä—ã—Ç—å —Ü–µ–ª—å
            document.getElementById('visual-reaction-target').classList.remove('active');
            document.getElementById('visual-reaction-target').style.backgroundColor = '#cccccc';
            document.getElementById('visual-reaction-timer').textContent = "–ñ–¥–∏—Ç–µ...";
            
            // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 1-3 —Å–µ–∫—É–Ω–¥—ã
            const delay = 1000 + Math.random() * 2000;
            
            visualReactionTest.timeoutId = setTimeout(() => {
                visualReactionTest.startTime = Date.now();
                document.getElementById('visual-reaction-target').classList.add('active');
                document.getElementById('visual-reaction-target').style.backgroundColor = '#ff6b6b';
                document.getElementById('visual-reaction-timer').textContent = "–ñ–ú–ò!";
            }, delay);
        }

        function recordVisualReaction() {
            if (!visualReactionTest.startTime || !visualReactionTest.isRunning) return;
            
            const reactionTime = Date.now() - visualReactionTest.startTime;
            visualReactionTest.times.push(reactionTime);
            visualReactionTest.testCount++;
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º—è
            document.getElementById('visual-reaction-timer').textContent = `${reactionTime} –º—Å`;
            document.getElementById('visual-reaction-target').style.backgroundColor = '#4caf50';
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            updateVisualReactionResults();
            
            // –°–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥ —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(startVisualReactionRound, 1500);
        }

        function updateVisualReactionResults() {
            const resultsDiv = document.getElementById('visual-reaction-times');
            resultsDiv.innerHTML = '';
            
            visualReactionTest.times.forEach((time, index) => {
                resultsDiv.innerHTML += `<div>–ü–æ–ø—ã—Ç–∫–∞ ${index + 1}: ${time} –º—Å</div>`;
            });
            
            if (visualReactionTest.times.length > 0) {
                const avg = visualReactionTest.times.reduce((a, b) => a + b, 0) / visualReactionTest.times.length;
                document.getElementById('avg-visual-reaction').textContent = avg.toFixed(0);
                
                // –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –±–∞–ª–ª –ø–æ 10-–±–∞–ª–ª—å–Ω–æ–π —à–∫–∞–ª–µ
                const score = calculateReactionScore(avg);
                document.getElementById('visual-reaction-score').textContent = `${score}/10`;
                currentState.testData.testResults.visualReaction.score = score;
                currentState.testData.testResults.visualReaction.average = avg;
                currentState.testData.testResults.visualReaction.times = visualReactionTest.times;
            }
        }

        function finishVisualReactionTest() {
            visualReactionTest.isRunning = false;
            clearTimeout(visualReactionTest.timeoutId);
            
            document.getElementById('visual-reaction-target').classList.add('disabled');
            document.getElementById('visual-reaction-target').style.backgroundColor = '#cccccc';
            document.getElementById('visual-reaction-timer').textContent = "–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω";
            document.getElementById('visual-reaction-results').classList.remove('hidden');
            document.getElementById('start-visual-reaction').classList.remove('hidden');
        }

        // –¢–ï–°–¢ 2: –°–ª—É—Ö–æ–≤–∞—è —Ä–µ–∞–∫—Ü–∏—è (–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô - –±–µ–∑ –Ω–∞–¥–ø–∏—Å–∏ –ø—Ä–∏ –∑–≤—É–∫–µ)
        let soundReactionTest = {
            startTime: null,
            times: [],
            testCount: 0,
            maxTests: 5,
            timeoutId: null,
            isRunning: false,
            audioContext: null,
            oscillator: null
        };

        function startSoundReactionTest() {
            if (soundReactionTest.isRunning) return;
            
            soundReactionTest.isRunning = true;
            soundReactionTest.times = [];
            soundReactionTest.testCount = 0;
            
            document.getElementById('start-sound-reaction').classList.add('hidden');
            document.getElementById('sound-reaction-results').classList.add('hidden');
            document.getElementById('sound-reaction-timer').textContent = "–ñ–¥–∏—Ç–µ –∑–≤—É–∫–∞...";
            document.getElementById('sound-reaction-button').style.backgroundColor = '';
            document.getElementById('sound-reaction-button').style.transform = '';
            
            // –ü–µ—Ä–≤—ã–π —Ä–∞—É–Ω–¥ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(startSoundReactionRound, 2000);
        }

        function startSoundReactionRound() {
            if (soundReactionTest.testCount >= soundReactionTest.maxTests) {
                finishSoundReactionTest();
                return;
            }
            
            document.getElementById('sound-reaction-timer').textContent = "–ñ–¥–∏—Ç–µ –∑–≤—É–∫–∞...";
            document.getElementById('sound-reaction-button').style.backgroundColor = '';
            document.getElementById('sound-reaction-button').style.transform = '';
            
            // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 1-4 —Å–µ–∫—É–Ω–¥—ã
            const delay = 1000 + Math.random() * 3000;
            
            soundReactionTest.timeoutId = setTimeout(() => {
                soundReactionTest.startTime = Date.now();
                playSound();
                // –ù–µ –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç, —Ç–æ–ª—å–∫–æ –∑–≤—É–∫
            }, delay);
        }

        function playSound() {
            try {
                // –°–æ–∑–¥–∞–µ–º AudioContext –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
                if (!soundReactionTest.audioContext) {
                    soundReactionTest.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                }
                
                // –°–æ–∑–¥–∞–µ–º –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä
                soundReactionTest.oscillator = soundReactionTest.audioContext.createOscillator();
                const gainNode = soundReactionTest.audioContext.createGain();
                
                // –ü–æ–¥–∫–ª—é—á–∞–µ–º
                soundReactionTest.oscillator.connect(gainNode);
                gainNode.connect(soundReactionTest.audioContext.destination);
                
                // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∑–≤—É–∫
                soundReactionTest.oscillator.frequency.value = 800;
                soundReactionTest.oscillator.type = 'sine';
                
                // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å
                gainNode.gain.setValueAtTime(0, soundReactionTest.audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.3, soundReactionTest.audioContext.currentTime + 0.1);
                gainNode.gain.exponentialRampToValueAtTime(0.01, soundReactionTest.audioContext.currentTime + 0.5);
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–≤—É–∫
                soundReactionTest.oscillator.start();
                soundReactionTest.oscillator.stop(soundReactionTest.audioContext.currentTime + 0.5);
            } catch (e) {
                console.log("–ê—É–¥–∏–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥");
                if (navigator.vibrate) {
                    navigator.vibrate(200);
                }
            }
        }

        function recordSoundReaction() {
            if (!soundReactionTest.startTime || !soundReactionTest.isRunning) return;
            
            const reactionTime = Date.now() - soundReactionTest.startTime;
            soundReactionTest.times.push(reactionTime);
            soundReactionTest.testCount++;
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º—è
            document.getElementById('sound-reaction-timer').textContent = `${reactionTime} –º—Å`;
            document.getElementById('sound-reaction-button').style.backgroundColor = '#4caf50';
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            updateSoundReactionResults();
            
            // –°–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥ —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(startSoundReactionRound, 1500);
        }

        function updateSoundReactionResults() {
            const resultsDiv = document.getElementById('sound-reaction-times');
            resultsDiv.innerHTML = '';
            
            soundReactionTest.times.forEach((time, index) => {
                resultsDiv.innerHTML += `<div>–ü–æ–ø—ã—Ç–∫–∞ ${index + 1}: ${time} –º—Å</div>`;
            });
            
            if (soundReactionTest.times.length > 0) {
                const avg = soundReactionTest.times.reduce((a, b) => a + b, 0) / soundReactionTest.times.length;
                document.getElementById('avg-sound-reaction').textContent = avg.toFixed(0);
                
                // –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –±–∞–ª–ª –ø–æ 10-–±–∞–ª–ª—å–Ω–æ–π —à–∫–∞–ª–µ
                const score = calculateReactionScore(avg);
                document.getElementById('sound-reaction-score').textContent = `${score}/10`;
                currentState.testData.testResults.soundReaction.score = score;
                currentState.testData.testResults.soundReaction.average = avg;
                currentState.testData.testResults.soundReaction.times = soundReactionTest.times;
            }
        }

        function finishSoundReactionTest() {
            soundReactionTest.isRunning = false;
            clearTimeout(soundReactionTest.timeoutId);
            
            if (soundReactionTest.audioContext) {
                soundReactionTest.audioContext.close();
                soundReactionTest.audioContext = null;
            }
            
            document.getElementById('sound-reaction-timer').textContent = "–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω";
            document.getElementById('sound-reaction-results').classList.remove('hidden');
            document.getElementById('start-sound-reaction').classList.remove('hidden');
        }

        // –¢–ï–°–¢ 3: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è
        let coordinationTest = {
            isRunning: false,
            startTime: null,
            totalTime: 0,
            hits: 0,
            misses: 0,
            target: null,
            area: null,
            intervalId: null,
            directionX: 1.2,
            directionY: 0.9,
            lastUpdate: null,
            isInside: false,
            lastInsideTime: null
        };

        function startCoordinationTest() {
            if (coordinationTest.isRunning) return;
            
            coordinationTest.isRunning = true;
            coordinationTest.startTime = Date.now();
            coordinationTest.totalTime = 0;
            coordinationTest.hits = 0;
            coordinationTest.misses = 0;
            coordinationTest.isInside = false;
            coordinationTest.lastInsideTime = null;
            
            document.getElementById('start-coordination').classList.add('hidden');
            document.getElementById('coordination-results').classList.add('hidden');
            
            coordinationTest.area = document.getElementById('coordination-area');
            coordinationTest.target = document.getElementById('coordination-target');
            
            // –°–±—Ä–æ—Å–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –∏ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
            coordinationTest.target.style.left = '50%';
            coordinationTest.target.style.top = '50%';
            coordinationTest.target.style.backgroundColor = '#4caf50';
            coordinationTest.target.style.width = '80px';
            coordinationTest.target.style.height = '80px';
            coordinationTest.target.textContent = '';
            coordinationTest.target.style.lineHeight = '80px';
            coordinationTest.target.style.fontSize = '24px';
            
            // –ù–∞—á–∞–ª—å–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            coordinationTest.directionX = (Math.random() > 0.5 ? 1.2 : -1.2);
            coordinationTest.directionY = (Math.random() > 0.5 ? 0.9 : -0.9);
            coordinationTest.lastUpdate = Date.now();
            
            // –ù–∞—á–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ
            coordinationTest.intervalId = setInterval(updateCoordinationTest, 16);
            
            // –°–ª—É—à–∞—Ç–µ–ª—å –¥–ª—è –º—ã—à–∏
            coordinationTest.area.addEventListener('mousemove', trackMousePosition);
        }

        function updateCoordinationTest() {
            if (!coordinationTest.isRunning) return;
            
            const now = Date.now();
            const deltaTime = (now - coordinationTest.lastUpdate) / 1000;
            coordinationTest.lastUpdate = now;
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä
            coordinationTest.totalTime = (now - coordinationTest.startTime) / 1000;
            document.getElementById('coordination-timer').textContent = coordinationTest.totalTime.toFixed(1) + ' —Å–µ–∫';
            
            // –î–≤–∏–≥–∞–µ–º —Ü–µ–ª—å
            let target = coordinationTest.target;
            
            let currentLeft = parseFloat(target.style.left) || 50;
            let currentTop = parseFloat(target.style.top) || 50;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é
            currentLeft += coordinationTest.directionX * 40 * deltaTime;
            currentTop += coordinationTest.directionY * 40 * deltaTime;
            
            // –ü–ª–∞–≤–Ω—ã–π –æ—Ç—Å–∫–æ–∫ –æ—Ç –≥—Ä–∞–Ω–∏—Ü
            if (currentLeft < 5) {
                currentLeft = 5;
                coordinationTest.directionX = Math.abs(coordinationTest.directionX) * 0.95;
            }
            if (currentLeft > 95) {
                currentLeft = 95;
                coordinationTest.directionX = -Math.abs(coordinationTest.directionX) * 0.95;
            }
            if (currentTop < 5) {
                currentTop = 5;
                coordinationTest.directionY = Math.abs(coordinationTest.directionY) * 0.95;
            }
            if (currentTop > 95) {
                currentTop = 95;
                coordinationTest.directionY = -Math.abs(coordinationTest.directionY) * 0.95;
            }
            
            target.style.left = currentLeft + '%';
            target.style.top = currentTop + '%';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ—á–Ω–æ—Å—Ç—å
            if (coordinationTest.isInside && coordinationTest.lastInsideTime) {
                const timeInside = (now - coordinationTest.lastInsideTime) / 1000;
                coordinationTest.hits += timeInside * 10;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ—á–Ω–æ—Å—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
            const accuracy = coordinationTest.hits > 0 ? 
                Math.min((coordinationTest.hits / (coordinationTest.hits + coordinationTest.misses)) * 100, 100) : 0;
            document.getElementById('coordination-accuracy').textContent = accuracy.toFixed(1);
            
            // –ó–∞–≤–µ—Ä—à–∞–µ–º —á–µ—Ä–µ–∑ 20 —Å–µ–∫—É–Ω–¥
            if (coordinationTest.totalTime >= 20) {
                finishCoordinationTest();
            }
        }

        function trackMousePosition(e) {
            if (!coordinationTest.isRunning) return;
            
            const target = coordinationTest.target;
            const area = coordinationTest.area;
            
            const targetRect = target.getBoundingClientRect();
            const areaRect = area.getBoundingClientRect();
            const mouseX = e.clientX - areaRect.left;
            const mouseY = e.clientY - areaRect.top;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –º—ã—à—å –≤–Ω—É—Ç—Ä–∏ —Ü–µ–ª–∏
            const isInside = mouseX >= 0 && mouseX <= areaRect.width &&
                           mouseY >= 0 && mouseY <= areaRect.height &&
                           Math.sqrt(
                               Math.pow(mouseX - (targetRect.left + targetRect.width/2 - areaRect.left), 2) +
                               Math.pow(mouseY - (targetRect.top + targetRect.height/2 - areaRect.top), 2)
                           ) <= targetRect.width / 2;
            
            if (isInside !== coordinationTest.isInside) {
                coordinationTest.isInside = isInside;
                if (isInside) {
                    coordinationTest.lastInsideTime = Date.now();
                    target.style.backgroundColor = '#ff6b6b';
                } else {
                    if (coordinationTest.lastInsideTime) {
                        const timeInside = Date.now() - coordinationTest.lastInsideTime;
                        coordinationTest.misses += timeInside / 1000;
                    }
                    target.style.backgroundColor = '#4caf50';
                }
            }
        }

        function finishCoordinationTest() {
            if (!coordinationTest.isRunning) return;
            
            coordinationTest.isRunning = false;
            clearInterval(coordinationTest.intervalId);
            
            // –§–∏–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º misses
            if (coordinationTest.isInside && coordinationTest.lastInsideTime) {
                const timeInside = Date.now() - coordinationTest.lastInsideTime;
                coordinationTest.misses += timeInside / 1000;
            }
            
            const totalTime = coordinationTest.totalTime;
            const accuracy = coordinationTest.hits > 0 ? 
                Math.min((coordinationTest.hits / (coordinationTest.hits + coordinationTest.misses)) * 100, 100) : 0;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            document.getElementById('coordination-time').textContent = totalTime.toFixed(1);
            document.getElementById('coordination-accuracy').textContent = accuracy.toFixed(1);
            
            // –†–∞—Å—á–µ—Ç –±–∞–ª–ª–∞
            const timeScore = Math.min(totalTime / 2, 10);
            const accuracyScore = accuracy / 10;
            const totalScore = Math.round((timeScore * 0.3 + accuracyScore * 0.7) * 10) / 10;
            
            document.getElementById('coordination-score').textContent = `${totalScore.toFixed(1)}/10`;
            
            currentState.testData.testResults.coordination.score = totalScore;
            currentState.testData.testResults.coordination.time = totalTime;
            currentState.testData.testResults.coordination.accuracy = accuracy;
            
            document.getElementById('coordination-results').classList.remove('hidden');
            document.getElementById('start-coordination').classList.remove('hidden');
            
            // –£–±–∏—Ä–∞–µ–º —Å–ª—É—à–∞—Ç–µ–ª—å
            coordinationTest.area.removeEventListener('mousemove', trackMousePosition);
        }

        // –¢–ï–°–¢ 4: –¢–µ—Å—Ç –ø–∞–º—è—Ç–∏
        let sequenceTest = {
            isRunning: false,
            sequence: [],
            userSequence: [],
            level: 1,
            maxLevels: 5,
            currentLevel: 1,
            timeoutId: null,
            colors: [1, 2, 3, 4, 5, 6],
            showingSequence: false
        };

        function startSequenceTest() {
            if (sequenceTest.isRunning) return;
            
            sequenceTest.isRunning = true;
            sequenceTest.sequence = [];
            sequenceTest.userSequence = [];
            sequenceTest.currentLevel = 1;
            
            document.getElementById('start-sequence').classList.add('hidden');
            document.getElementById('sequence-results').classList.add('hidden');
            
            // –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –∫–≤–∞–¥—Ä–∞—Ç—ã
            document.querySelectorAll('.sequence-box').forEach(box => {
                box.classList.remove('active', 'correct', 'incorrect', 'disabled');
                box.style.opacity = '1';
                box.style.boxShadow = 'none';
            });
            
            startSequenceLevel();
        }

        function startSequenceLevel() {
            if (sequenceTest.currentLevel > sequenceTest.maxLevels) {
                finishSequenceTest();
                return;
            }
            
            document.getElementById('sequence-timer').textContent = `–£—Ä–æ–≤–µ–Ω—å ${sequenceTest.currentLevel} –∏–∑ ${sequenceTest.maxLevels}`;
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–∫–∏ –≤–æ –≤—Ä–µ–º—è –ø–æ–∫–∞–∑–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
            document.querySelectorAll('.sequence-box').forEach(box => {
                box.classList.add('disabled');
            });
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
            sequenceTest.sequence = [];
            for (let i = 0; i < sequenceTest.currentLevel + 2; i++) {
                sequenceTest.sequence.push(sequenceTest.colors[Math.floor(Math.random() * sequenceTest.colors.length)]);
            }
            
            sequenceTest.userSequence = [];
            sequenceTest.showingSequence = true;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
            showSequenceStep(0);
        }

        function showSequenceStep(index) {
            if (index >= sequenceTest.sequence.length) {
                // –ó–∞–≤–µ—Ä—à–∏–ª–∏ –ø–æ–∫–∞–∑ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                sequenceTest.showingSequence = false;
                document.getElementById('sequence-timer').textContent = "–í–∞—à–∞ –æ—á–µ—Ä–µ–¥—å! –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å";
                
                // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–≤–∞–¥—Ä–∞—Ç—ã –¥–ª—è –≤–≤–æ–¥–∞
                document.querySelectorAll('.sequence-box').forEach(box => {
                    box.classList.remove('disabled');
                });
                return;
            }
            
            const colorIndex = sequenceTest.sequence[index];
            const box = document.querySelectorAll('.sequence-box')[colorIndex - 1];
            
            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –∫–≤–∞–¥—Ä–∞—Ç
            box.classList.add('active');
            
            // –ß–µ—Ä–µ–∑ 800 –º—Å —É–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É
            setTimeout(() => {
                box.classList.remove('active');
                
                // –ü–∞—É–∑–∞ 300 –º—Å –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º
                setTimeout(() => {
                    showSequenceStep(index + 1);
                }, 300);
            }, 800);
        }

        function checkSequenceAnswer(element, colorIndex) {
            if (!sequenceTest.isRunning || sequenceTest.showingSequence || element.classList.contains('disabled')) {
                return;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
            sequenceTest.userSequence.push(colorIndex);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏
            const currentIndex = sequenceTest.userSequence.length - 1;
            if (sequenceTest.userSequence[currentIndex] === sequenceTest.sequence[currentIndex]) {
                // –ü—Ä–∞–≤–∏–ª—å–Ω–æ
                element.classList.add('correct');
                setTimeout(() => {
                    element.classList.remove('correct');
                }, 500);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≤–µ—Ä—à–∏–ª–∏ –ª–∏ –≤—Å—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
                if (sequenceTest.userSequence.length === sequenceTest.sequence.length) {
                    // –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω
                    sequenceTest.currentLevel++;
                    document.getElementById('sequence-timer').textContent = "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å...";
                    
                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –Ω–∞ 1.5 —Å–µ–∫—É–Ω–¥—ã
                    document.querySelectorAll('.sequence-box').forEach(box => {
                        box.classList.add('disabled');
                    });
                    
                    setTimeout(() => {
                        startSequenceLevel();
                    }, 1500);
                }
            } else {
                // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
                element.classList.add('incorrect');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
                setTimeout(() => {
                    finishSequenceTest();
                }, 1000);
            }
        }

        function updateSequenceResults() {
            document.getElementById('sequence-correct').textContent = sequenceTest.currentLevel - 1;
            document.getElementById('sequence-length').textContent = sequenceTest.currentLevel + 1;
            
            // –†–∞—Å—á–µ—Ç –±–∞–ª–ª–∞
            const levelScore = ((sequenceTest.currentLevel - 1) / sequenceTest.maxLevels) * 10;
            const totalScore = Math.round(levelScore * 10) / 10;
            
            document.getElementById('sequence-score').textContent = `${totalScore.toFixed(1)}/10`;
            
            currentState.testData.testResults.sequence.score = totalScore;
            currentState.testData.testResults.sequence.correct = sequenceTest.currentLevel - 1;
            currentState.testData.testResults.sequence.length = sequenceTest.currentLevel + 1;
        }

        function finishSequenceTest() {
            sequenceTest.isRunning = false;
            sequenceTest.showingSequence = false;
            clearTimeout(sequenceTest.timeoutId);
            
            updateSequenceResults();
            
            // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–≤–∞–¥—Ä–∞—Ç—ã
            document.querySelectorAll('.sequence-box').forEach(box => {
                box.classList.remove('disabled', 'active', 'correct', 'incorrect');
            });
            
            document.getElementById('sequence-timer').textContent = "–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω";
            document.getElementById('sequence-results').classList.remove('hidden');
            document.getElementById('start-sequence').classList.remove('hidden');
        }

        // –¢–ï–°–¢ 5: –ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å (–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô)
        let multiTaskTest = {
            isRunning: false,
            startTime: null,
            timeLeft: 30,
            targets: [],
            hits: 0,
            reactionTimes: [],
            intervalId: null,
            targetIntervalId: null
        };

        function startMultiTaskTest() {
            if (multiTaskTest.isRunning) return;
            
            multiTaskTest.isRunning = true;
            multiTaskTest.startTime = Date.now();
            multiTaskTest.timeLeft = 30;
            multiTaskTest.hits = 0;
            multiTaskTest.reactionTimes = [];
            multiTaskTest.targets = [];
            
            document.getElementById('start-multi-task').classList.add('hidden');
            document.getElementById('multi-task-results').classList.add('hidden');
            document.getElementById('multi-task-area').innerHTML = '';
            document.getElementById('targets-hit').textContent = '0';
            document.getElementById('multi-task-timer').textContent = '30';
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
            multiTaskTest.intervalId = setInterval(updateMultiTaskTimer, 1000);
            
            // –°–æ–∑–¥–∞–µ–º —Ü–µ–ª–∏ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
            multiTaskTest.targetIntervalId = setInterval(createMultiTaskTarget, 1000);
        }

        function createMultiTaskTarget() {
            if (!multiTaskTest.isRunning) return;
            
            const area = document.getElementById('multi-task-area');
            const target = document.createElement('div');
            target.className = 'moving-target';
            target.style.backgroundColor = '#ff6b6b';
            target.style.left = Math.random() * 85 + '%';
            target.style.top = Math.random() * 85 + '%';
            target.style.width = '40px';
            target.style.height = '40px';
            target.style.lineHeight = '40px';
            target.style.fontSize = '16px';
            target.textContent = '';
            target.startTime = Date.now();
            
            // –°–ª—É—á–∞–π–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
            target.dx = (Math.random() - 0.5) * 4;
            target.dy = (Math.random() - 0.5) * 4;
            target.isActive = true;
            
            target.onclick = function() {
                hitMultiTaskTarget(this);
            };
            
            area.appendChild(target);
            multiTaskTest.targets.push(target);
            
            // –î–≤–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–∏
            const moveTarget = setInterval(() => {
                if (!target.parentNode || !multiTaskTest.isRunning) {
                    clearInterval(moveTarget);
                    return;
                }
                
                let left = parseFloat(target.style.left) || 50;
                let top = parseFloat(target.style.top) || 50;
                
                left += target.dx;
                top += target.dy;
                
                // –û—Ç—Å–∫–æ–∫ –æ—Ç –≥—Ä–∞–Ω–∏—Ü
                if (left < 0 || left > 85) {
                    target.dx = -target.dx;
                    left = Math.max(0, Math.min(85, left));
                }
                if (top < 0 || top > 85) {
                    target.dy = -target.dy;
                    top = Math.max(0, Math.min(85, top));
                }
                
                target.style.left = left + '%';
                target.style.top = top + '%';
            }, 50);
            
            // –£–¥–∞–ª–µ–Ω–∏–µ —Ü–µ–ª–∏ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –µ—Å–ª–∏ –Ω–µ –ø–æ–ø–∞–ª–∏
            setTimeout(() => {
                if (target.parentNode && target.isActive) {
                    target.parentNode.removeChild(target);
                    const index = multiTaskTest.targets.indexOf(target);
                    if (index > -1) {
                        multiTaskTest.targets.splice(index, 1);
                    }
                }
            }, 5000);
        }

        function hitMultiTaskTarget(target) {
            if (!multiTaskTest.isRunning || !target.isActive) return;
            
            target.isActive = false;
            multiTaskTest.hits++;
            
            // –†–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Ä–µ–∞–∫—Ü–∏–∏
            const reactionTime = Date.now() - target.startTime;
            multiTaskTest.reactionTimes.push(reactionTime);
            
            // –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
            target.style.backgroundColor = '#00c853';
            target.style.transform = 'scale(1.5)';
            
            document.getElementById('targets-hit').textContent = multiTaskTest.hits;
            
            // –£–¥–∞–ª–µ–Ω–∏–µ —Ü–µ–ª–∏ —á–µ—Ä–µ–∑ 300 –º—Å
            setTimeout(() => {
                if (target.parentNode) {
                    target.parentNode.removeChild(target);
                    const index = multiTaskTest.targets.indexOf(target);
                    if (index > -1) {
                        multiTaskTest.targets.splice(index, 1);
                    }
                }
            }, 300);
        }

        function updateMultiTaskTimer() {
            if (!multiTaskTest.isRunning) return;
            
            multiTaskTest.timeLeft--;
            document.getElementById('multi-task-timer').textContent = multiTaskTest.timeLeft;
            
            if (multiTaskTest.timeLeft <= 0) {
                finishMultiTaskTest();
            }
        }

        function finishMultiTaskTest() {
            if (!multiTaskTest.isRunning) return;
            
            multiTaskTest.isRunning = false;
            clearInterval(multiTaskTest.intervalId);
            clearInterval(multiTaskTest.targetIntervalId);
            
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Ü–µ–ª–∏
            document.getElementById('multi-task-area').innerHTML = '';
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            const avgReactionTime = multiTaskTest.reactionTimes.length > 0 ? 
                multiTaskTest.reactionTimes.reduce((a, b) => a + b, 0) / multiTaskTest.reactionTimes.length : 0;
            
            const hitsPerSecond = multiTaskTest.hits / 30;
            const reactionScore = calculateReactionScore(avgReactionTime);
            const hitScore = Math.min(multiTaskTest.hits / 2, 10);
            
            const totalScore = Math.round((reactionScore * 0.4 + hitScore * 0.6) * 10) / 10;
            
            document.getElementById('multi-task-hit').textContent = multiTaskTest.hits;
            document.getElementById('multi-task-avg-time').textContent = avgReactionTime.toFixed(0);
            document.getElementById('multi-task-score').textContent = `${totalScore.toFixed(1)}/10`;
            
            currentState.testData.testResults.multiTask.score = totalScore;
            currentState.testData.testResults.multiTask.hits = multiTaskTest.hits;
            currentState.testData.testResults.multiTask.avgTime = avgReactionTime;
            
            document.getElementById('multi-task-results').classList.remove('hidden');
            document.getElementById('start-multi-task').classList.remove('hidden');
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –±–∞–ª–ª–æ–≤
        function calculateReactionScore(timeMs) {
            if (timeMs < 200) return 10;
            if (timeMs < 250) return 9;
            if (timeMs < 300) return 8;
            if (timeMs < 350) return 7;
            if (timeMs < 400) return 6;
            if (timeMs < 500) return 5;
            if (timeMs < 600) return 4;
            if (timeMs < 700) return 3;
            if (timeMs < 800) return 2;
            return 1;
        }

        function calculateOverallScore(scores) {
            const weights = {
                visualReaction: 0.15,
                soundReaction: 0.10,
                coordination: 0.20,
                sequence: 0.15,
                multiTask: 0.20,
                decision: 0.10,
                psychAvg: 0.10
            };
            
            let weightedSum = 0;
            let totalWeight = 0;
            
            // –§–∏–∑–∏—á–µ—Å–∫–∏–µ –∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
            for (const [test, weight] of Object.entries(weights)) {
                if (test === 'psychAvg') continue;
                if (currentState.testData.testResults[test] && currentState.testData.testResults[test].score) {
                    weightedSum += currentState.testData.testResults[test].score * weight;
                    totalWeight += weight;
                }
            }
            
            // –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å (—Å—Ä–µ–¥–Ω–µ–µ –ø–æ –≤—Å–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º)
            const psychScores = Object.values(currentState.testData.psychResults);
            const psychAvg = psychScores.length > 0 ? 
                psychScores.reduce((a, b) => a + b, 0) / psychScores.length : 5;
            
            weightedSum += psychAvg * weights.psychAvg;
            totalWeight += weights.psychAvg;
            
            // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –¥–æ 100 –±–∞–ª–ª–æ–≤
            const overallScore = Math.round((weightedSum / totalWeight) * 10);
            
            return Math.min(overallScore, 100);
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –∏ –∞–Ω–∞–ª–∏–∑
        function finishTest() {
            saveCurrentStepData();
            calculateResults();
            showResultsPage();
        }

        function calculateResults() {
            const data = currentState.testData;
            const testResults = data.testResults;
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â–∏–π –±–∞–ª–ª
            currentState.testResults = {
                scores: {
                    visualReaction: testResults.visualReaction.score,
                    soundReaction: testResults.soundReaction.score,
                    coordination: testResults.coordination.score,
                    sequence: testResults.sequence.score,
                    multiTask: testResults.multiTask.score,
                    decision: testResults.decision.score,
                    psychResults: data.psychResults
                },
                overallScore: calculateOverallScore(testResults),
                timestamp: new Date().toISOString(),
                data: data
            };
        }

        function showResultsPage() {
            const results = currentState.testResults;
            const data = currentState.testData;
            const testResults = data.testResults;
            
            // –ü—Ä–æ—Ñ–∏–ª—å —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞
            document.getElementById('athlete-profile').innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>${data.personal.name || '–ê–Ω–æ–Ω–∏–º'}</h4>
                        <div>–í–æ–∑—Ä–∞—Å—Ç: ${data.personal.age || '–ù–µ —É–∫–∞–∑–∞–Ω'}</div>
                        <div>–†–æ—Å—Ç: ${data.personal.height || '–ù–µ —É–∫–∞–∑–∞–Ω'} —Å–º</div>
                        <div>–í–µ—Å: ${data.personal.weight || '–ù–µ —É–∫–∞–∑–∞–Ω'} –∫–≥</div>
                    </div>
                    <div class="stat-card">
                        <h4>–û–±—â–∏–π –±–∞–ª–ª</h4>
                        <div class="score-display">${results.overallScore}/100</div>
                        <div class="score-label">${getScoreDescription(results.overallScore)}</div>
                    </div>
                </div>
            `;
            
            // –§–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã)
            document.getElementById('physical-stats').innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>–ó—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è</h4>
                        <div>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ${testResults.visualReaction.average || 0} –º—Å</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${testResults.visualReaction.score * 10}%"></div>
                        </div>
                        <div class="score-display">${testResults.visualReaction.score.toFixed(1)}/10</div>
                    </div>
                    <div class="stat-card">
                        <h4>–°–ª—É—Ö–æ–≤–∞—è —Ä–µ–∞–∫—Ü–∏—è</h4>
                        <div>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ${testResults.soundReaction.average || 0} –º—Å</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${testResults.soundReaction.score * 10}%"></div>
                        </div>
                        <div class="score-display">${testResults.soundReaction.score.toFixed(1)}/10</div>
                    </div>
                    <div class="stat-card">
                        <h4>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è</h4>
                        <div>–í—Ä–µ–º—è: ${testResults.coordination.time.toFixed(1)} —Å–µ–∫</div>
                        <div>–¢–æ—á–Ω–æ—Å—Ç—å: ${testResults.coordination.accuracy.toFixed(1)}%</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${testResults.coordination.score * 10}%"></div>
                        </div>
                        <div class="score-display">${testResults.coordination.score.toFixed(1)}/10</div>
                    </div>
                </div>
            `;
            
            // –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
            document.getElementById('cognitive-stats').innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>–¢–µ—Å—Ç –ø–∞–º—è—Ç–∏</h4>
                        <div>–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π: ${testResults.sequence.correct || 0}/5</div>
                        <div>–î–ª–∏–Ω–∞ –∑–∞–ø–æ–º–Ω–µ–Ω–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: ${testResults.sequence.length || 0}</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${testResults.sequence.score * 10}%"></div>
                        </div>
                        <div class="score-display">${testResults.sequence.score.toFixed(1)}/10</div>
                    </div>
                    <div class="stat-card">
                        <h4>–ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å</h4>
                        <div>–ü–æ–ø–∞–¥–∞–Ω–∏–π: ${testResults.multiTask.hits || 0}</div>
                        <div>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ${testResults.multiTask.avgTime.toFixed(0)} –º—Å</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${testResults.multiTask.score * 10}%"></div>
                        </div>
                        <div class="score-display">${testResults.multiTask.score.toFixed(1)}/10</div>
                    </div>
                    <div class="stat-card">
                        <h4>–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π</h4>
                        <div>–ë–∞–ª–ª: ${testResults.decision.score || 0}/10</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${testResults.decision.score * 10}%"></div>
                        </div>
                        <div class="score-display">${testResults.decision.score.toFixed(1)}/10</div>
                    </div>
                </div>
            `;
            
            // –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç
            const psychHtml = showDetailedPsychProfile(data.psychResults);
            document.getElementById('psychological-profile').innerHTML = psychHtml;
            
            // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞
            const sportRecs = getSportRecommendations(results, data);
            document.getElementById('sport-recommendations').innerHTML = sportRecs;
            
            // –ò–¥–µ–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
            const posRecs = getPositionRecommendations(data);
            document.getElementById('position-recommendations').innerHTML = posRecs;
            
            // –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è
            const devPlan = getDevelopmentPlan(results, data);
            document.getElementById('development-plan').innerHTML = devPlan;
            
            showPage('page-results');
        }

        function showDetailedPsychProfile(psychResults) {
            const traits = {
                resilience: { name: '–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å', desc: '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á' },
                confidence: { name: '–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å', desc: '–í–µ—Ä–∞ –≤ —Å–≤–æ–∏ —Å–∏–ª—ã –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏' },
                determination: { name: '–†–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å', desc: '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è' },
                composure: { name: '–°–∞–º–æ–æ–±–ª–∞–¥–∞–Ω–∏–µ', desc: '–ö–æ–Ω—Ç—Ä–æ–ª—å —ç–º–æ—Ü–∏–π –≤ —Å—Ç—Ä–µ—Å—Å–æ–≤—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö' },
                focus: { name: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è', desc: '–£–º–µ–Ω–∏–µ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –∑–∞–¥–∞—á–µ' },
                leadership: { name: '–õ–∏–¥–µ—Ä—Å—Ç–≤–æ', desc: '–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–µ—Å—Ç–∏ –∑–∞ —Å–æ–±–æ–π –∫–æ–º–∞–Ω–¥—É' },
                teamwork: { name: '–ö–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å', desc: '–£–º–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–µ' },
                discipline: { name: '–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞', desc: '–°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º –∏ —Ä–∞—Å–ø–æ—Ä—è–¥–∫—É' },
                motivation: { name: '–ú–æ—Ç–∏–≤–∞—Ü–∏—è', desc: '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –¥–≤–∏–∂—É—â–∞—è —Å–∏–ª–∞' },
                decision: { name: '–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π', desc: '–ö–∞—á–µ—Å—Ç–≤–æ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π' }
            };
            
            let html = '<div class="stats-grid">';
            
            for (const [trait, info] of Object.entries(traits)) {
                const score = psychResults[trait] || 0;
                const level = getPsychLevel(score);
                
                html += `
                    <div class="stat-card">
                        <h4>${info.name}</h4>
                        <div class="score-display">${score}/10</div>
                        <div class="score-label">${level}</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${score * 10}%"></div>
                        </div>
                        <div style="font-size: 12px; color: var(--text-light); margin-top: 5px;">
                            ${info.desc}
                        </div>
                    </div>
                `;
            }
            
            html += '</div>';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—â–∏–π –∞–Ω–∞–ª–∏–∑
            const avgScore = Object.values(psychResults).reduce((a, b) => a + b, 0) / Object.values(psychResults).length;
            const profileType = getPsychProfileType(psychResults);
            
            html += `
                <div style="margin-top: 20px; padding: 20px; background: #e8f5e9; border-radius: var(--radius);">
                    <h4><i class="fas fa-user-edit"></i> –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å: ${profileType}</h4>
                    <p>–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: <strong>${avgScore.toFixed(1)}/10</strong></p>
                    <p>${getPsychProfileDescription(psychResults)}</p>
                </div>
            `;
            
            return html;
        }

        function getPsychLevel(score) {
            if (score >= 9) return '–í—ã–¥–∞—é—â–∏–π—Å—è';
            if (score >= 7) return '–í—ã—Å–æ–∫–∏–π';
            if (score >= 5) return '–°—Ä–µ–¥–Ω–∏–π';
            if (score >= 3) return '–ù–∏–∂–µ —Å—Ä–µ–¥–Ω–µ–≥–æ';
            return '–ù–∏–∑–∫–∏–π';
        }

        function getPsychProfileType(psychResults) {
            const leadership = psychResults.leadership || 0;
            const teamwork = psychResults.teamwork || 0;
            const resilience = psychResults.resilience || 0;
            const confidence = psychResults.confidence || 0;
            
            if (leadership >= 8 && confidence >= 8) return '–õ–∏–¥–µ—Ä';
            if (teamwork >= 8 && leadership <= 5) return '–ö–æ–º–∞–Ω–¥–Ω—ã–π –∏–≥—Ä–æ–∫';
            if (resilience >= 8 && confidence >= 7) return '–ë–æ–µ—Ü';
            if (psychResults.discipline >= 8 && psychResults.focus >= 8) return '–¢–∞–∫—Ç–∏–∫';
            return '–£–Ω–∏–≤–µ—Ä—Å–∞–ª';
        }

        function getPsychProfileDescription(psychResults) {
            const strengths = [];
            const weaknesses = [];
            
            for (const [trait, score] of Object.entries(psychResults)) {
                if (score >= 8) {
                    const traitNames = {
                        resilience: '—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å—Ç—Ä–µ—Å—Å—É',
                        confidence: '—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–µ–±–µ',
                        determination: '—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
                        composure: '—Å–∞–º–æ–æ–±–ª–∞–¥–∞–Ω–∏–µ',
                        focus: '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è',
                        leadership: '–ª–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞',
                        teamwork: '–∫–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å',
                        discipline: '–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å',
                        motivation: '–º–æ—Ç–∏–≤–∞—Ü–∏—è',
                        decision: '–∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π'
                    };
                    strengths.push(traitNames[trait]);
                } else if (score <= 4) {
                    const traitNames = {
                        resilience: '—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å—Ç—Ä–µ—Å—Å—É',
                        confidence: '—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–µ–±–µ',
                        determination: '—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
                        composure: '—Å–∞–º–æ–æ–±–ª–∞–¥–∞–Ω–∏–µ',
                        focus: '–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è',
                        leadership: '–ª–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞',
                        teamwork: '–∫–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å',
                        discipline: '–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å',
                        motivation: '–º–æ—Ç–∏–≤–∞—Ü–∏—è',
                        decision: '–∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π'
                    };
                    weaknesses.push(traitNames[trait]);
                }
            }
            
            let desc = '';
            if (strengths.length > 0) {
                desc += `<strong>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:</strong> ${strengths.join(', ')}. `;
            }
            if (weaknesses.length > 0) {
                desc += `<strong>–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞:</strong> ${weaknesses.join(', ')}.`;
            }
            
            return desc || '–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å.';
        }

        function getScoreDescription(score) {
            if (score >= 85) return "–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –í—ã –æ–±–ª–∞–¥–∞–µ—Ç–µ –≤—ã–¥–∞—é—â–∏–º–∏—Å—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.";
            if (score >= 70) return "–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –£ –≤–∞—Å —Ö–æ—Ä–æ—à–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Å–ø–æ—Ä—Ç–∞.";
            if (score >= 50) return "–°—Ä–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ï—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏!";
            return "–ù–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–æ–º–æ–≥—É—Ç —É–ª—É—á—à–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.";
        }

        function getSportRecommendations(results, data) {
            const recommendations = [];
            const testResults = data.testResults;
            const psych = data.psychResults;
            
            // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
            const reactionAvg = (testResults.visualReaction.score + testResults.soundReaction.score) / 2;
            const coordination = testResults.coordination.score;
            const memoryScore = testResults.sequence.score;
            const decisionScore = testResults.decision.score;
            
            // –§—É—Ç–±–æ–ª
            if (reactionAvg >= 6 && coordination >= 5 && psych.teamwork >= 6) {
                const match = Math.min(70 + Math.floor(reactionAvg * 2 + coordination * 1.5 + psych.teamwork), 95);
                recommendations.push({
                    sport: "‚öΩ –§—É—Ç–±–æ–ª",
                    match: match,
                    reason: "–•–æ—Ä–æ—à–∞—è —Ä–µ–∞–∫—Ü–∏—è, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∏ –∫–æ–º–∞–Ω–¥–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞"
                });
            }
            
            // –ë–∞—Å–∫–µ—Ç–±–æ–ª
            const height = data.personal.height || 170;
            if (height >= 175 && reactionAvg >= 6 && coordination >= 6) {
                const match = Math.min(65 + Math.floor((reactionAvg + coordination) * 2 + (height - 170) / 5), 90);
                recommendations.push({
                    sport: "üèÄ –ë–∞—Å–∫–µ—Ç–±–æ–ª",
                    match: match,
                    reason: "–ü–æ–¥—Ö–æ–¥—è—â–∏–π —Ä–æ—Å—Ç, —Ö–æ—Ä–æ—à–∏–µ —Ä–µ–∞–∫—Ü–∏—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è"
                });
            }
            
            // –í–æ–ª–µ–π–±–æ–ª
            if (height >= 175 && reactionAvg >= 7 && coordination >= 6) {
                const match = Math.min(70 + Math.floor(reactionAvg * 2.5 + coordination * 1.5), 90);
                recommendations.push({
                    sport: "üèê –í–æ–ª–µ–π–±–æ–ª",
                    match: match,
                    reason: "–†–æ—Å—Ç, —Ö–æ—Ä–æ—à–∞—è —Ä–µ–∞–∫—Ü–∏—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è"
                });
            }
            
            // –¢–µ–Ω–Ω–∏—Å
            if (reactionAvg >= 7 && coordination >= 6 && memoryScore >= 6) {
                const match = Math.min(75 + Math.floor(reactionAvg * 2 + coordination * 1.5), 95);
                recommendations.push({
                    sport: "üéæ –¢–µ–Ω–Ω–∏—Å",
                    match: match,
                    reason: "–û—Ç–ª–∏—á–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∏ –ø–∞–º—è—Ç—å"
                });
            }
            
            // –•–æ–∫–∫–µ–π
            if (reactionAvg >= 7 && coordination >= 7 && testResults.multiTask.score >= 6) {
                const match = Math.min(70 + Math.floor(reactionAvg * 2 + coordination * 1.5), 90);
                recommendations.push({
                    sport: "üèí –•–æ–∫–∫–µ–π",
                    match: match,
                    reason: "–û—Ç–ª–∏—á–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∏ –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å"
                });
            }
            
            // –ü–ª–∞–≤–∞–Ω–∏–µ
            if (coordination >= 7 && psych.discipline >= 7) {
                const match = Math.min(65 + Math.floor(coordination * 2 + psych.discipline), 90);
                recommendations.push({
                    sport: "üèä –ü–ª–∞–≤–∞–Ω–∏–µ",
                    match: match,
                    reason: "–•–æ—Ä–æ—à–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞"
                });
            }
            
            // –ï—Å–ª–∏ –Ω–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
            if (recommendations.length === 0) {
                if (reactionAvg >= 5) {
                    recommendations.push({
                        sport: "üèÉ –õ–µ–≥–∫–∞—è –∞—Ç–ª–µ—Ç–∏–∫–∞ (—Å–ø—Ä–∏–Ω—Ç)",
                        match: 60 + Math.floor(reactionAvg * 3),
                        reason: "–•–æ—Ä–æ—à–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏"
                    });
                }
                if (coordination >= 5) {
                    recommendations.push({
                        sport: "ü§∏ –ì–∏–º–Ω–∞—Å—Ç–∏–∫–∞",
                        match: 55 + Math.floor(coordination * 3),
                        reason: "–•–æ—Ä–æ—à–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏–π"
                    });
                }
                if (decisionScore >= 6) {
                    recommendations.push({
                        sport: "‚ôüÔ∏è –®–∞—Ö–º–∞—Ç—ã/–®–∞—à–∫–∏",
                        match: 60 + Math.floor(decisionScore * 4),
                        reason: "–•–æ—Ä–æ—à–µ–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ"
                    });
                }
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é
            recommendations.sort((a, b) => b.match - a.match);
            
            let html = '<div class="stats-grid">';
            
            recommendations.slice(0, 3).forEach(rec => {
                html += `
                    <div class="stat-card">
                        <h4>${rec.sport}</h4>
                        <div class="score-display">${rec.match}%</div>
                        <div class="score-label">${rec.reason}</div>
                    </div>
                `;
            });
            
            html += '</div>';
            
            return html;
        }

        function getPositionRecommendations(data) {
            const testResults = data.testResults;
            const psych = data.psychResults;
            const height = data.personal.height || 170;
            
            let positions = [];
            
            // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
            const strongReaction = testResults.visualReaction.score >= 7 || testResults.soundReaction.score >= 7;
            const strongCoordination = testResults.coordination.score >= 7;
            const strongMemory = testResults.sequence.score >= 7;
            const strongDecision = testResults.decision.score >= 7;
            
            // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Å—Ç–æ–≤
            if (strongReaction && strongCoordination) {
                positions.push({ sport: "‚öΩ", position: "–í—Ä–∞—Ç–∞—Ä—å", reason: "–û—Ç–ª–∏—á–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è" });
                positions.push({ sport: "üéæ", position: "–ü–æ–¥–∞—é—â–∏–π", reason: "–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è –∏ —Ö–æ—Ä–æ—à–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è" });
            }
            
            if (strongReaction && psych.leadership >= 7) {
                positions.push({ sport: "‚öΩ", position: "–ö–∞–ø–∏—Ç–∞–Ω/–ü–ª–µ–π–º–µ–π–∫–µ—Ä", reason: "–õ–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ + –±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è" });
                positions.push({ sport: "üèÄ", position: "–†–∞–∑—ã–≥—Ä—ã–≤–∞—é—â–∏–π", reason: "–õ–∏–¥–µ—Ä—Å—Ç–≤–æ –∏ –±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è" });
            }
            
            if (strongCoordination && height >= 185) {
                positions.push({ sport: "üèÄ", position: "–¶–µ–Ω—Ç—Ä–æ–≤–æ–π", reason: "–†–æ—Å—Ç –∏ –æ—Ç–ª–∏—á–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è" });
                positions.push({ sport: "üèê", position: "–ë–ª–æ–∫–∏—Ä—É—é—â–∏–π", reason: "–†–æ—Å—Ç –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –¥–ª—è –±–ª–æ–∫–æ–≤" });
            }
            
            if (strongMemory && strongDecision) {
                positions.push({ sport: "üèÄ", position: "–†–∞–∑—ã–≥—Ä—ã–≤–∞—é—â–∏–π", reason: "–¢–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ –∏ –ø–∞–º—è—Ç—å" });
                positions.push({ sport: "‚öΩ", position: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫", reason: "–•–æ—Ä–æ—à–µ–µ –≤–∏–¥–µ–Ω–∏–µ –ø–æ–ª—è –∏ –ø–∞–º—è—Ç—å" });
            }
            
            if (strongReaction && height >= 180) {
                positions.push({ sport: "üèê", position: "–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π", reason: "–†–æ—Å—Ç –∏ –±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è –¥–ª—è –∞—Ç–∞–∫–∏" });
            }
            
            // –ï—Å–ª–∏ –º–∞–ª–æ –ø–æ–∑–∏—Ü–∏–π, –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—â–∏–µ
            if (positions.length < 2) {
                if (testResults.visualReaction.score >= 6) {
                    positions.push({ sport: "‚öΩ", position: "–ö—Ä–∞–π–Ω–∏–π –Ω–∞–ø–∞–¥–∞—é—â–∏–π", reason: "–•–æ—Ä–æ—à–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏" });
                }
                if (psych.teamwork >= 7) {
                    positions.push({ sport: "üèê", position: "–°–≤—è–∑—É—é—â–∏–π", reason: "–•–æ—Ä–æ—à–∏–µ –∫–æ–º–∞–Ω–¥–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞" });
                }
                if (strongCoordination) {
                    positions.push({ sport: "üèä", position: "–ë–∞—Ç—Ç–µ—Ä—Ñ–ª—è–π", reason: "–û—Ç–ª–∏—á–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏–π" });
                }
            }
            
            let html = '<div class="stats-grid">';
            
            positions.slice(0, 3).forEach(pos => {
                html += `
                    <div class="stat-card">
                        <h4>${pos.sport} ${pos.position}</h4>
                        <div class="score-label">${pos.reason}</div>
                    </div>
                `;
            });
            
            if (positions.length === 0) {
                html += `
                    <div class="stat-card">
                        <h4>üèÉ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞—Ç–ª–µ—Ç</h4>
                        <div class="score-label">–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –≤—Å–µ –Ω–∞–≤—ã–∫–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</div>
                    </div>
                `;
            }
            
            html += '</div>';
            
            return html;
        }

        function getDevelopmentPlan(results, data) {
            const testResults = data.testResults;
            const psych = data.psychResults;
            const recommendations = [];
            
            // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞ –≤ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–∞—Ö
            if (testResults.visualReaction.score < 6) {
                recommendations.push("üëÅÔ∏è <strong>–ó—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è:</strong> –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å –º—è—á–æ–º, —Ç–µ–Ω–Ω–∏—Å —É —Å—Ç–µ–Ω—ã, –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –∏–≥—Ä—ã –Ω–∞ —Ä–µ–∞–∫—Ü–∏—é");
            }
            
            if (testResults.soundReaction.score < 6) {
                recommendations.push("üëÇ <strong>–°–ª—É—Ö–æ–≤–∞—è —Ä–µ–∞–∫—Ü–∏—è:</strong> –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –≥–ª–∞–∑–∞–º–∏ –Ω–∞ –∑–≤—É–∫–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã, –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Ä–∏—Ç–º—ã");
            }
            
            if (testResults.coordination.score < 6) {
                recommendations.push("ü§∏ <strong>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è:</strong> –ñ–æ–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–æ—á–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, —Å–ª–æ–∂–Ω–æ–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞");
            }
            
            if (testResults.sequence.score < 5) {
                recommendations.push("üß† <strong>–ü–∞–º—è—Ç—å –∏ –≤–Ω–∏–º–∞–Ω–∏–µ:</strong> –ö–∞—Ä—Ç–æ—á–Ω—ã–µ –∏–≥—Ä—ã, –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π, —à–∞—Ö–º–∞—Ç—ã");
            }
            
            if (testResults.multiTask.score < 5) {
                recommendations.push("üß† <strong>–ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å:</strong> –ò–≥—Ä–æ–≤—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞, —à–∞—Ö–º–∞—Ç—ã, –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á");
            }
            
            if (testResults.decision.score < 6) {
                recommendations.push("‚ôüÔ∏è <strong>–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π:</strong> –ê–Ω–∞–ª–∏–∑ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –º–∞—Ç—á–µ–π, —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∏–≥—Ä—ã, —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏");
            }
            
            // –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            const weakPsychTraits = [];
            for (const [trait, score] of Object.entries(psych)) {
                if (score < 5) {
                    const traitNames = {
                        resilience: '–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å',
                        confidence: '–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å',
                        determination: '–†–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
                        composure: '–°–∞–º–æ–æ–±–ª–∞–¥–∞–Ω–∏–µ',
                        focus: '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è',
                        leadership: '–õ–∏–¥–µ—Ä—Å—Ç–≤–æ',
                        teamwork: '–ö–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å',
                        discipline: '–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞',
                        motivation: '–ú–æ—Ç–∏–≤–∞—Ü–∏—è',
                        decision: '–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π'
                    };
                    weakPsychTraits.push(traitNames[trait]);
                }
            }
            
            if (weakPsychTraits.length > 0) {
                recommendations.push(`üß† <strong>–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è:</strong> –†–∞–±–æ—Ç–∞ –Ω–∞–¥ ${weakPsychTraits.join(', ')} —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —Å –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º`);
            }
            
            // –ï—Å–ª–∏ –Ω–µ—Ç —Å–ª–∞–±—ã—Ö –º–µ—Å—Ç, –¥–∞–µ–º –æ–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            if (recommendations.length === 0) {
                recommendations.push("üéØ <strong>–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã:</strong> –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 3-4 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é");
                recommendations.push("‚ö° <strong>–°–∫–æ—Ä–æ—Å—Ç—å:</strong> –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, —Å–ø—Ä–∏–Ω—Ç—ã, –ø–ª–∏–æ–º–µ—Ç—Ä–∏–∫–∞");
                recommendations.push("üí™ <strong>–°–∏–ª–∞:</strong> –°–∏–ª–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏");
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            recommendations.push("üçé <strong>–ü–∏—Ç–∞–Ω–∏–µ:</strong> –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–∏–µ—Ç–∞ —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –±–µ–ª–∫–∞ –∏ —É–≥–ª–µ–≤–æ–¥–æ–≤");
            recommendations.push("üí§ <strong>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> –°–æ–Ω 7-8 —á–∞—Å–æ–≤, —Ä–∞—Å—Ç—è–∂–∫–∞ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –º–∞—Å—Å–∞–∂");
            recommendations.push("üìà <strong>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:</strong> –†–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞");
            
            return `
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>üèãÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h4>
                        <ul style="text-align: left; padding-left: 20px; font-size: 14px;">
                            ${recommendations.slice(0, 3).map(rec => `<li>${rec}</li>`).join('')}
                        </ul>
                    </div>
                    <div class="stat-card">
                        <h4>ü•ó –ü–∏—Ç–∞–Ω–∏–µ</h4>
                        <ul style="text-align: left; padding-left: 20px; font-size: 14px;">
                            <li>–ë–µ–ª–æ–∫: 1.5-2–≥ –Ω–∞ –∫–≥ –≤–µ—Å–∞</li>
                            <li>–£–≥–ª–µ–≤–æ–¥—ã: 4-6–≥ –Ω–∞ –∫–≥ –≤–µ—Å–∞</li>
                            <li>–ñ–∏—Ä—ã: 0.8-1–≥ –Ω–∞ –∫–≥ –≤–µ—Å–∞</li>
                            <li>–í–æ–¥–∞: 30-40–º–ª –Ω–∞ –∫–≥ –≤–µ—Å–∞</li>
                        </ul>
                    </div>
                    <div class="stat-card">
                        <h4>üìÖ –ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é</h4>
                        <ul style="text-align: left; padding-left: 20px; font-size: 14px;">
                            <li>–ü–Ω: –°–∏–ª–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</li>
                            <li>–í—Ç: –ö–∞—Ä–¥–∏–æ + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è</li>
                            <li>–°—Ä: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</li>
                            <li>–ß—Ç: –ò–≥—Ä–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</li>
                            <li>–ü—Ç: –°–∏–ª–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</li>
                            <li>–°–±: –ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö</li>
                            <li>–í—Å: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</li>
                        </ul>
                    </div>
                </div>
            `;
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function saveResults() {
            const results = currentState.testResults;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–º—è
            if (currentState.testData.personal.name) {
                localStorage.setItem('userName', currentState.testData.personal.name);
                document.getElementById('user-name').textContent = currentState.testData.personal.name;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            let savedData = JSON.parse(localStorage.getItem('sportsAnalyzerData')) || {};
            savedData.lastTest = results;
            savedData.testHistory = savedData.testHistory || [];
            savedData.testHistory.push(results);
            
            localStorage.setItem('sportsAnalyzerData', JSON.stringify(savedData));
            localStorage.setItem('sportsAnalyzerResults', JSON.stringify(results));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            document.getElementById('user-score').textContent = `${results.overallScore}/100`;
            document.getElementById('initial-test-alert').classList.add('hidden');
            
            alert('‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Ö –≤ "–ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã".');
            backToWelcome();
        }

        function restartTest() {
            if (confirm('–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç? –¢–µ–∫—É—â–∏–µ –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã.')) {
                startComprehensiveTest();
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤
        function displayTestHistory() {
            const savedData = JSON.parse(localStorage.getItem('sportsAnalyzerData'));
            const history = savedData?.testHistory || [];
            
            const container = document.getElementById('results-history');
            
            if (history.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--text-light);">
                        <i class="fas fa-clipboard-list" style="font-size: 48px; margin-bottom: 20px;"></i>
                        <h3>–ò—Å—Ç–æ—Ä–∏—è —Ç–µ—Å—Ç–æ–≤ –ø—É—Å—Ç–∞</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ –ø–µ—Ä–≤—ã–π —Ç–µ—Å—Ç, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å —Å–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!</p>
                        <button class="btn btn-primary" onclick="startComprehensiveTest()" style="margin-top: 20px;">
                            <i class="fas fa-play"></i> –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç
                        </button>
                    </div>
                `;
                return;
            }
            
            let html = '<div class="stats-grid">';
            
            history.reverse().forEach((test, index) => {
                const date = new Date(test.timestamp).toLocaleDateString();
                const time = new Date(test.timestamp).toLocaleTimeString();
                
                html += `
                    <div class="stat-card" onclick="showTestDetails(${history.length - 1 - index})" style="cursor: pointer;">
                        <h4>–¢–µ—Å—Ç –æ—Ç ${date}</h4>
                        <div class="score-display">${test.overallScore}/100</div>
                        <div class="score-label">
                            ${time} ‚Ä¢ –§–∏–∑–∏–∫–∞: ${test.scores.visualReaction}/10
                        </div>
                        <div style="margin-top: 10px; font-size: 12px; color: var(--text-light);">
                            <i>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π</i>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        function showTestDetails(index) {
            const savedData = JSON.parse(localStorage.getItem('sportsAnalyzerData'));
            const test = savedData.testHistory[index];
            
            let details = `–î–µ—Ç–∞–ª–∏ —Ç–µ—Å—Ç–∞ –æ—Ç ${new Date(test.timestamp).toLocaleDateString()}:\n\n`;
            details += `–û–±—â–∏–π –±–∞–ª–ª: ${test.overallScore}/100\n\n`;
            details += `–§–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:\n`;
            details += `  –ó—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è: ${test.scores.visualReaction}/10\n`;
            details += `  –°–ª—É—Ö–æ–≤–∞—è —Ä–µ–∞–∫—Ü–∏—è: ${test.scores.soundReaction}/10\n`;
            details += `  –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è: ${test.scores.coordination}/10\n`;
            details += `  –¢–µ—Å—Ç –ø–∞–º—è—Ç–∏: ${test.scores.sequence}/10\n`;
            details += `  –ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å: ${test.scores.multiTask}/10\n`;
            details += `  –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π: ${test.scores.decision}/10\n\n`;
            
            if (test.data?.personal?.name) {
                details += `–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:\n`;
                details += `  –ò–º—è: ${test.data.personal.name}\n`;
                details += `  –í–æ–∑—Ä–∞—Å—Ç: ${test.data.personal.age}\n`;
                details += `  –†–æ—Å—Ç: ${test.data.personal.height} —Å–º\n`;
                details += `  –í–µ—Å: ${test.data.personal.weight} –∫–≥\n`;
            }
            
            alert(details);
        }

        // –í—ã–±–æ—Ä —Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
        function selectSport(sport) {
            const sportData = SPORTS_DATA[sport];
            if (!sportData) return;
            
            document.getElementById('sport-analysis-title').innerHTML = 
                `<i class="fas fa-chart-pie"></i> –ê–Ω–∞–ª–∏–∑ –¥–ª—è ${sportData.name}`;
            
            const container = document.getElementById('sport-analysis-content');
            
            // –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞
            const savedData = JSON.parse(localStorage.getItem('sportsAnalyzerData'));
            const lastTest = savedData?.lastTest;
            
            if (!lastTest) {
                container.innerHTML = `
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-circle"></i>
                        <div>
                            <strong>–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π–¥–∏—Ç–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç</strong>
                            <p>–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–∑–∏—Ü–∏–π –≤ ${sportData.name} –Ω—É–∂–Ω—ã –≤–∞—à–∏ –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</p>
                            <button class="btn btn-primary" onclick="startComprehensiveTest()" style="margin-top: 10px;">
                                <i class="fas fa-play"></i> –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç
                            </button>
                        </div>
                    </div>
                `;
            } else {
                const userData = lastTest.data;
                const analysis = analyzeForSport(sport, userData);
                container.innerHTML = analysis;
            }
            
            showPage('page-sport-analysis');
        }

        function analyzeForSport(sport, userData) {
            const sportData = SPORTS_DATA[sport];
            let html = `<h3>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ ${sportData.name}:</h3>`;
            
            html += '<div class="stats-grid">';
            
            sportData.positions.forEach(position => {
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –ø–æ–∑–∏—Ü–∏–∏
                let matchScore = 0;
                let totalRequirements = 0;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ
                for (const [requirement, neededScore] of Object.entries(position.requirements)) {
                    totalRequirements++;
                    
                    // –ü–æ–ª—É—á–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    let userScore = 5; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ä–µ–¥–Ω–∏–π
                    
                    switch(requirement) {
                        case 'reaction':
                            userScore = Math.max(
                                userData.testResults.visualReaction.score || 5,
                                userData.testResults.soundReaction.score || 5
                            );
                            break;
                        case 'coordination':
                            userScore = userData.testResults.coordination.score || 5;
                            break;
                        case 'strength':
                            userScore = Math.min(userData.testResults.coordination.score + 2, 10) || 5;
                            break;
                        case 'leadership':
                        case 'teamwork':
                        case 'discipline':
                        case 'motivation':
                        case 'decision':
                        case 'composure':
                        case 'focus':
                        case 'confidence':
                        case 'determination':
                        case 'resilience':
                            userScore = userData.psychResults[requirement] || 5;
                            break;
                        case 'height':
                            const height = userData.personal.height || 170;
                            if (height >= 190) userScore = 10;
                            else if (height >= 185) userScore = 9;
                            else if (height >= 180) userScore = 8;
                            else if (height >= 175) userScore = 7;
                            else if (height >= 170) userScore = 6;
                            else userScore = 5;
                            break;
                        default:
                            userScore = 5;
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
                    if (userScore >= neededScore) {
                        matchScore += 100;
                    } else {
                        matchScore += (userScore / neededScore) * 100;
                    }
                }
                
                const finalScore = Math.round(matchScore / totalRequirements);
                
                html += `
                    <div class="stat-card">
                        <h4>${position.name}</h4>
                        <div class="score-display">${finalScore}%</div>
                        <div class="progress-bar" style="margin: 10px 0;">
                            <div class="progress-fill" style="width: ${finalScore}%"></div>
                        </div>
                        <div class="score-label">${getPositionTips(position.name, sport)}</div>
                    </div>
                `;
            });
            
            html += '</div>';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –ø–∏—Ç–∞–Ω–∏—è, –µ—Å–ª–∏ –µ—Å—Ç—å
            if (SPORT_TRAINING_PROGRAMS[sport]) {
                const training = SPORT_TRAINING_PROGRAMS[sport];
                
                html += `
                    <div class="analysis-card" style="margin-top: 20px;">
                        <h4><i class="fas fa-dumbbell"></i> –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –¥–ª—è ${sportData.name}</h4>
                        <ul style="padding-left: 20px; margin-top: 10px;">
                            ${training.training.map(item => `<li style="margin-bottom: 8px;">${item}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="analysis-card" style="margin-top: 20px;">
                        <h4><i class="fas fa-apple-alt"></i> –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–∏—Ç–∞–Ω–∏—é –¥–ª—è ${sportData.name}</h4>
                        <ul style="padding-left: 20px; margin-top: 10px;">
                            ${training.nutrition.map(item => `<li style="margin-bottom: 8px;">${item}</li>`).join('')}
                        </ul>
                    </div>
                `;
            } else {
                html += `
                    <div class="analysis-card" style="margin-top: 20px; background: #fff3cd;">
                        <h4><i class="fas fa-info-circle"></i> –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</h4>
                        <p>–î–ª—è —ç—Ç–æ–≥–æ –≤–∏–¥–∞ —Å–ø–æ—Ä—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –±–ª–∏–∂–∞–π—à–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.</p>
                        <p style="margin-top: 10px;"><strong>–û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong></p>
                        <ul style="padding-left: 20px;">
                            <li>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 3-4 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é</li>
                            <li>–°–∏–ª–æ–≤–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ 2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é</li>
                            <li>–ö–∞—Ä–¥–∏–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¥–ª—è –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏</li>
                            <li>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–Ω—è—Ç–∏—è 2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é</li>
                        </ul>
                    </div>
                `;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            html += `
                <div class="analysis-card" style="margin-top: 20px;">
                    <h4><i class="fas fa-lightbulb"></i> –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è ${sportData.name}:</h4>
                    <ul style="padding-left: 20px;">
                        ${getSportSpecificTips(sport, userData)}
                    </ul>
                </div>
            `;
            
            return html;
        }

        function getPositionTips(position, sport) {
            const tips = {
                'football': {
                    '–í—Ä–∞—Ç–∞—Ä—å': '–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–∞–∫—Ü–∏—é, –ø—Ä—ã–≥—É—á–µ—Å—Ç—å –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é',
                    '–ù–∞–ø–∞–¥–∞—é—â–∏–π': '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å, —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–µ —á—É—Ç—å–µ',
                    '–ü–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫': '–£–ª—É—á—à–∞–π—Ç–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å, –≤–∏–¥–µ–Ω–∏–µ –ø–æ–ª—è –∏ –ø–∞—Å',
                    '–ó–∞—â–∏—Ç–Ω–∏–∫': '–†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞–¥ —Å–∏–ª–æ–π, –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –∏–≥—Ä–æ–π –≥–æ–ª–æ–≤–æ–π'
                },
                'basketball': {
                    '–†–∞–∑—ã–≥—Ä—ã–≤–∞—é—â–∏–π': '–†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞–¥ –ø–∞—Å–æ–º, –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –º—è—á–∞ –∏ –≤–∏–¥–µ–Ω–∏–µ–º',
                    '–¶–µ–Ω—Ç—Ä–æ–≤–æ–π': '–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ –∏–≥—Ä—É –ø–æ–¥ –∫–æ–ª—å—Ü–æ–º, –ø–æ–¥–±–æ—Ä—ã –∏ –±–ª–æ–∫–∏',
                    '–ê—Ç–∞–∫—É—é—â–∏–π –∑–∞—â–∏—Ç–Ω–∏–∫': '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å, –¥—Ä–∏–±–ª–∏–Ω–≥ –∏ –±—Ä–æ—Å–∫–∏',
                    '–¢—è–∂–µ–ª—ã–π —Ñ–æ—Ä–≤–∞—Ä–¥': '–£–ª—É—á—à–∞–π—Ç–µ —Å–∏–ª—É, –ø–æ–¥–±–æ—Ä—ã –∏ –∏–≥—Ä—É –≤ paint'
                },
                'volleyball': {
                    '–õ–∏–±–µ—Ä–æ': '–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ –∑–∞—â–∏—Ç—É, —Ä–µ–∞–∫—Ü–∏—é –∏ –ø—Ä–∏–µ–º',
                    '–°–≤—è–∑—É—é—â–∏–π': '–†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞–¥ —Ç–æ—á–Ω–æ—Å—Ç—å—é –ø–∞—Å–∞ –∏ –≤–∏–¥–µ–Ω–∏–µ–º',
                    '–î–æ–∏–≥—Ä–æ–≤—â–∏–∫': '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –ø—Ä—ã–≥—É—á–µ—Å—Ç—å, —Å–∏–ª—É —É–¥–∞—Ä–∞ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é',
                    '–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π': '–£–ª—É—á—à–∞–π—Ç–µ –º–æ—â–Ω–æ—Å—Ç—å –∞—Ç–∞–∫–∏ –∏ –ø—Ä—ã–≥—É—á–µ—Å—Ç—å'
                }
            };
            
            return tips[sport]?.[position] || '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –¥–ª—è —ç—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏';
        }

        function getSportSpecificTips(sport, userData) {
            const tips = [];
            const testResults = userData.testResults;
            
            switch(sport) {
                case 'football':
                    if (testResults.visualReaction.score < 7) tips.push('–†–µ–∞–∫—Ü–∏—è: —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å –º—è—á–æ–º, —Ä–∞–±–æ—Ç–∞ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å');
                    if (testResults.coordination.score < 6) tips.push('–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è: –∂–æ–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –±–∞–ª–∞–Ω—Å');
                    tips.push('–¢–µ—Ö–Ω–∏–∫–∞: –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –º—è—á–æ–º –º–∏–Ω–∏–º—É–º 30 –º–∏–Ω—É—Ç');
                    tips.push('–¢–∞–∫—Ç–∏–∫–∞: –∏–∑—É—á–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã—Ö —Å—Ö–µ–º, –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ');
                    break;
                case 'basketball':
                    if (testResults.coordination.score < 6) tips.push('–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è: –¥—Ä–∏–±–ª–∏–Ω–≥ —Å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏, –±—Ä–æ—Å–∫–∏ –≤ –¥–≤–∏–∂–µ–Ω–∏–∏');
                    if (testResults.multiTask.score < 5) tips.push('–ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å: –∏–≥—Ä–æ–≤—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ 1 –Ω–∞ 1, 2 –Ω–∞ 2');
                    tips.push('–ë—Ä–æ—Å–∫–∏: –º–∏–Ω–∏–º—É–º 100 –±—Ä–æ—Å–∫–æ–≤ –≤ –¥–µ–Ω—å —Å —Ä–∞–∑–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π');
                    tips.push('–§–∏–∑–∏–∫–∞: —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä—ã–≥—É—á–µ—Å—Ç–∏, —Å–∫–æ—Ä–æ—Å—Ç–∏, —Å–∏–ª—ã');
                    break;
                case 'volleyball':
                    tips.push('–ü—Ä—ã–≥—É—á–µ—Å—Ç—å: –ø–ª–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è 3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é');
                    tips.push('–†–µ–∞–∫—Ü–∏—è: —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —É —Å–µ—Ç–∫–∏, —Ä–∞–±–æ—Ç–∞ –Ω–∞ –±–ª–æ–∫–µ');
                    tips.push('–¢–µ—Ö–Ω–∏–∫–∞: –æ—Ç—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö –≤–∏–¥–æ–≤ –ø–æ–¥–∞—á, —É–¥–∞—Ä–æ–≤, –±–ª–æ–∫–æ–≤');
                    break;
                case 'tennis':
                    if (testResults.visualReaction.score < 7) tips.push('–†–µ–∞–∫—Ü–∏—è: —Ä–∞–±–æ—Ç–∞ —É —Å–µ—Ç–∫–∏, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º');
                    if (testResults.coordination.score < 6) tips.push('–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è: —Ä–∞–±–æ—Ç–∞ –Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å —É–¥–∞—Ä–æ–≤');
                    tips.push('–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å: –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∫—Ä–æ—Å—Å—ã');
                    tips.push('–¢–µ—Ö–Ω–∏–∫–∞: –æ—Ç—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –≤–∏–¥–æ–≤ —É–¥–∞—Ä–æ–≤');
                    break;
                case 'hockey':
                    tips.push('–ö–∞—Ç–∞–Ω–∏–µ: –º–∏–Ω–∏–º—É–º 2 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ –Ω–µ–¥–µ–ª—é –Ω–∞ –∫–æ–Ω—å–∫–∞—Ö');
                    tips.push('–†–µ–∞–∫—Ü–∏—è: —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å —à–∞–π–±–æ–π, —Ä–∞–±–æ—Ç–∞ –≤—Ä–∞—Ç–∞—Ä—è');
                    tips.push('–°–∏–ª–∞: —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å –æ—Ç—è–≥–æ—â–µ–Ω–∏—è–º–∏ –¥–ª—è –Ω–æ–≥ –∏ –∫–æ—Ä–ø—É—Å–∞');
                    break;
                case 'swimming':
                    tips.push('–¢–µ—Ö–Ω–∏–∫–∞: —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –≤—Å–µ–º–∏ —Å—Ç–∏–ª—è–º–∏ –ø–ª–∞–≤–∞–Ω–∏—è');
                    tips.push('–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å: –¥–ª–∏–Ω–Ω—ã–µ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏, –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏');
                    tips.push('–î—ã—Ö–∞–Ω–∏–µ: —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥—ã—Ö–∞–Ω–∏—è');
                    break;
                default:
                    tips.push('–û–±—â–∞—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞: 3-4 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é');
                    tips.push('–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏: 2-3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é');
                    tips.push('–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: —Å–æ–Ω 8 —á–∞—Å–æ–≤, –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ');
            }
            
            return tips.map(tip => `<li>${tip}</li>`).join('');
        }

        // –ú–∏–Ω–∏-–∏–≥—Ä—ã
        function startReactionGame() {
            alert('üéÆ –ò–≥—Ä–∞ "–†–µ–∞–∫—Ü–∏—è" –∑–∞–ø—É—â–µ–Ω–∞!\n\n–ü—Ä–∞–≤–∏–ª–∞:\n- –ù–∞–∂–∏–º–∞–π—Ç–µ –Ω–∞ –ø–æ—è–≤–ª—è—é—â–∏–µ—Å—è —Ü–µ–ª–∏ –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ\n- –ß–µ–º –±—ã—Å—Ç—Ä–µ–µ —Ä–µ–∞–∫—Ü–∏—è, —Ç–µ–º –±–æ–ª—å—à–µ –æ—á–∫–æ–≤\n- –£ –≤–∞—Å –±—É–¥–µ—Ç 60 —Å–µ–∫—É–Ω–¥');
        }

        function startCoordinationGame() {
            alert('üéØ –ò–≥—Ä–∞ "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è" –∑–∞–ø—É—â–µ–Ω–∞!\n\n–ü—Ä–∞–≤–∏–ª–∞:\n- –£–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∫—É—Ä—Å–æ—Ä –≤–Ω—É—Ç—Ä–∏ –¥–≤–∏–∂—É—â–µ–≥–æ—Å—è –∫—Ä—É–≥–∞\n- –ß–µ–º –¥–æ–ª—å—à–µ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç–µ, —Ç–µ–º –±–æ–ª—å—à–µ –æ—á–∫–æ–≤\n- –ò–∑–±–µ–≥–∞–π—Ç–µ –≤—ã—Ö–æ–¥–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã');
        }

        function startMemoryGame() {
            alert('üß† –ò–≥—Ä–∞ "–ü–∞–º—è—Ç—å" –∑–∞–ø—É—â–µ–Ω–∞!\n\n–ü—Ä–∞–≤–∏–ª–∞:\n- –ó–∞–ø–æ–º–∏–Ω–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ü–≤–µ—Ç–æ–≤ –∏–ª–∏ –¥–≤–∏–∂–µ–Ω–∏–π\n- –ü–æ–≤—Ç–æ—Ä—è–π—Ç–µ –∏—Ö –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ\n- –° –∫–∞–∂–¥—ã–º —É—Ä–æ–≤–Ω–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–¥–ª–∏–Ω—è–µ—Ç—Å—è');
        }

        function startStrategyGame() {
            alert('‚ôüÔ∏è –ò–≥—Ä–∞ "–°—Ç—Ä–∞—Ç–µ–≥–∏—è" –∑–∞–ø—É—â–µ–Ω–∞!\n\n–ü—Ä–∞–≤–∏–ª–∞:\n- –†–µ—à–∞–π—Ç–µ —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –≤ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö\n- –í—ã–±–∏—Ä–∞–π—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è\n- –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –≤—Ä–µ–º—è –∏ —Ä–µ—Å—É—Ä—Å—ã');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            initApp();
        };
    </script>
</body>
</html>
